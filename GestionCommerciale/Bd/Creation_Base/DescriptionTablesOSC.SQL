/*******************************************************************************/
/***	TABLES POUR SERVIR IOMPORTER OsCOMMECER                              ***/
/*******************************************************************************/
CREATE TABLE TA_ARTICLE_OSC (
    ID_ARTICLE           DID3 NOT NULL,
    CODE_ARTICLE         DLGR_CODE,
    LIBELLEC_ARTICLE     DLGR_LIBCODE,
    LIBELLEL_ARTICLE     DLIB255,
    ID_FAMILLE           DID_FACULTATIF,
    ID_TVA               DID_FACULTATIF,
    ID_T_TVA             DID_FACULTATIF,
    ID_PRIX              DID_FACULTATIF,
    NUMCPT_ARTICLE       DLIB8,
    DIVERS_ARTICLE       DLIB255,
    COMMENTAIRE_ARTICLE  DLIB_COMMENTAIRE,
    STOCK_MIN_ARTICLE    DID9,
    QUI_CREE_ARTICLE     DLIB50,
    QUAND_CREE_ARTICLE   TIMESTAMP DEFAULT 'NOW',
    QUI_MODIF_ARTICLE    DLIB50,
    QUAND_MODIF_ARTICLE  TIMESTAMP DEFAULT 'NOW',
    "VERSION"            NUM_VERSION,
    IP_ACCES             DLIB50NN DEFAULT 0,
    ID_ARTICLE_BDG	 DID4
);
ALTER TABLE TA_ARTICLE_OSC ADD PRIMARY KEY (ID_ARTICLE);
/*ALTER TABLE TA_ARTICLE_OSC ADD foreign key (ID_FAMILLE) references Ta_famille (ID_FAMILLE);*/
/*ALTER TABLE TA_ARTICLE_OSC ADD foreign key (ID_TVA) references ta_tva (ID_TVA);*/
/*ALTER TABLE TA_ARTICLE_OSC ADD foreign key (ID_T_TVA) references ta_t_tva (ID_T_TVA);*/
/*ALTER TABLE TA_ARTICLE_OSC ADD foreign key (ID_PRIX) references ta_prix (ID_PRIX);*/


CREATE TABLE TA_TIERS_OSC (
    ID_TIERS           DID3 NOT NULL,
    CODE_TIERS         VARCHAR(20) CHARACTER SET UTF8 NOT NULL,
    CODE_COMPTA        VARCHAR(7) CHARACTER SET UTF8,
    COMPTE             DLIB8NN,
    NOM_TIERS          DLGR_LIB,
    PRENOM_TIERS       DLIB100,
    SURNOM_TIERS       DLIB20,
    ACTIF_TIERS        DBOOL DEFAULT '1',
    TTC_TIERS          DBOOL DEFAULT '0',
    ID_T_CIVILITE      DID_FACULTATIF,
    ID_ENTREPRISE      DID_FACULTATIF,
    ID_T_TIERS         DID3,
    ID_T_ENTITE        DID_FACULTATIF,
    ID_I_BANQUE        DID_FACULTATIF,
    QUI_CREE_TIERS     DLIB50,
    QUAND_CREE_TIERS   TIMESTAMP DEFAULT 'NOW',
    QUI_MODIF_TIERS    DLIB50,
    QUAND_MODIF_TIERS  TIMESTAMP DEFAULT 'NOW',
    "VERSION"          NUM_VERSION,
    IP_ACCES           DLIB50NN DEFAULT 0,
    ID_TIERS_BDG       DID4,
    ID_ADRESSE_BDG     DID4,
    ID_ADRESSE_OSC     DID4			
);

ALTER TABLE TA_TIERS_OSC ADD PRIMARY KEY (ID_TIERS);

/*ALTER TABLE TA_TIERS_OSC ADD foreign key (ID_T_CIVILITE) references Ta_t_civilite (ID_T_CIVILITE);*/
/*ALTER TABLE TA_TIERS_OSC ADD foreign key (ID_ENTREPRISE) references Ta_entreprise (ID_ENTREPRISE);*/
/*ALTER TABLE TA_TIERS_OSC ADD foreign key (ID_T_TIERS) references Ta_t_tiers (ID_T_TIERS);*/
/*ALTER TABLE TA_TIERS ADD foreign key (ID_I_BANQUE) references Ta_banque (ID_BANQUE);*/
/*ALTER TABLE TA_TIERS_OSC ADD foreign key (ID_T_ENTITE) references Ta_t_entite (ID_T_ENTITE);*/

CREATE TABLE TA_FACTURE_OSC (
    ID_FACTURE           DID3 NOT NULL,
    CODE_FACTURE         DLGR_CODE,
    DATE_FACTURE         TIMESTAMP DEFAULT 'NOW',
    DATE_ECH_FACTURE     TIMESTAMP DEFAULT 'NOW',
    DATE_LIV_FACTURE     TIMESTAMP DEFAULT 'NOW',
    LIBELLE_FACTURE      DLIB255NN,
    ID_ADRESSE           DID_FACULTATIF,
    ID_ADRESSE_LIV       DID_FACULTATIF,
    ID_TIERS_OSC         DID3,
    ID_T_PAIEMENT        DID_FACULTATIF,
    ID_C_PAIEMENT        DID_FACULTATIF,
    REGLE_FACTURE        DID9 DEFAULT 0,
    REM_HT_FACTURE       DID9 DEFAULT 0,
    TX_REM_HT_FACTURE    DID9 DEFAULT 0,
    REM_TTC_FACTURE      DID9 DEFAULT 0,
    TX_REM_TTC_FACTURE   DID9 DEFAULT 0,
    NB_E_FACTURE         DID4 DEFAULT 0,
    TTC                  DBOOL DEFAULT 0,
    EXPORT               DBOOL DEFAULT 0,
    COMMENTAIRE          DLIB_COMMENTAIRE,
    QUI_CREE_FACTURE     DLIB50,
    QUAND_CREE_FACTURE   TIMESTAMP DEFAULT 'NOW',
    QUI_MODIF_FACTURE    DLIB50,
    QUAND_MODIF_FACTURE  TIMESTAMP DEFAULT 'NOW',
    "VERSION"            NUM_VERSION,
    IP_ACCES             DLIB50NN DEFAULT 0,
    ID_FACTURE_BDG       DID4,
    ID_TIERS_BDG         DID4
);
ALTER TABLE TA_FACTURE_OSC ADD PRIMARY KEY (ID_FACTURE);
/*ALTER TABLE TA_TIERS_OSC ADD foreign key (ID_T_CIVILITE) references Ta_t_civilite (ID_T_CIVILITE);*/
/*ALTER TABLE TA_TIERS_OSC ADD foreign key (ID_ENTREPRISE) references Ta_entreprise (ID_ENTREPRISE);*/
/*ALTER TABLE TA_TIERS_OSC ADD foreign key (ID_T_TIERS) references Ta_t_tiers (ID_T_TIERS);*/
/*ALTER TABLE TA_TIERS ADD foreign key (ID_I_BANQUE) references Ta_banque (ID_BANQUE);*/
/*ALTER TABLE TA_TIERS_OSC ADD foreign key (ID_T_ENTITE) references Ta_t_entite (ID_T_ENTITE);*/

CREATE TABLE TA_L_FACTURE_OSC (
    ID_L_FACTURE           DID3 NOT NULL,
    ID_FACTURE             DID3,
    ID_T_LIGNE             DID3,
    ID_ARTICLE             DID4,
    NUM_LIGNE_L_FACTURE    DID3,
    LIB_L_FACTURE          DLIB255,
    QTE_L_FACTURE          DID9FACULT,
    U1_L_FACTURE           DLIB20,
    U2_L_FACTURE           DLIB20,
    PRIX_U_L_FACTURE       DID9FACULT,
    TAUX_TVA_L_FACTURE     DLONG,
    COMPTE_L_FACTURE       DLIB8,
    CODE_TVA_L_FACTURE     DLIB20,
    CODE_T_TVA_L_FACTURE   DLIB1L,
    MT_HT_L_FACTURE        DID9FACULT,
    MT_TTC_L_FACTURE       DID9FACULT,
    REM_TX_L_FACTURE       DID9FACULT,
    REM_HT_L_FACTURE       DID9FACULT,
    QUI_CREE_L_FACTURE     DLIB50,
    QUAND_CREE_L_FACTURE   TIMESTAMP DEFAULT 'NOW',
    QUI_MODIF_L_FACTURE    DLIB50,
    QUAND_MODIF_L_FACTURE  TIMESTAMP DEFAULT 'NOW',
    "VERSION"              NUM_VERSION,
    IP_ACCES               DLIB50NN DEFAULT 0
);
ALTER TABLE TA_L_FACTURE_OSC ADD PRIMARY KEY (ID_L_FACTURE);

/*ALTER TABLE TA_L_FACTURE_OSC ADD foreign key (ID_FACTURE) references TA_FACTURE_OSC (ID_FACTURE);*/
/*ALTER TABLE TA_L_FACTURE_OSC ADD foreign key (ID_T_LIGNE) references TA_T_LIGNE (ID_T_LIGNE);*/
/*ALTER TABLE TA_L_FACTURE_OSC ADD foreign key (ID_ARTICLE) references TA_ARTICLE_OSC (ID_ARTICLE);*/

CREATE TABLE TA_ADRESSE_OSC (
    ID_ADRESSE           DID3 NOT NULL,
    ADRESSE1_ADRESSE     DLIB100,
    ADRESSE2_ADRESSE     DLIB100,
    ADRESSE3_ADRESSE     DLIB100,
    CODEPOSTAL_ADRESSE   DCODPOS,
    VILLE_ADRESSE        DLGR_LIB,
    PAYS_ADRESSE         DLGR_LIB DEFAULT 'FRANCE',
    QUI_CREE_ADRESSE     DLIB50,
    QUAND_CREE_ADRESSE   TIMESTAMP DEFAULT 'NOW',
    QUI_MODIF_ADRESSE    DLIB50,
    QUAND_MODIF_ADRESSE  TIMESTAMP DEFAULT 'NOW',
    "VERSION"            NUM_VERSION,
    IP_ACCES             DLIB50NN DEFAULT 0,
    ID_ADRESSE_BDG       DID4,
    ID_TIER_OSC          DID4,
    ID_TIER_BDG          DID4,
    CODE_T_ADR_BDG       DLGR_CODE
    
);
ALTER TABLE TA_ADRESSE_OSC ADD PRIMARY KEY (ID_ADRESSE);

CREATE TABLE TA_EMAIL_OSC (
    ID_EMAIL           DID3 NOT NULL,
    ADRESSE_EMAIL      DLIB255NN,
    QUI_CREE_EMAIL     DLIB50,
    QUAND_CREE_EMAIL   TIMESTAMP DEFAULT 'NOW',
    QUI_MODIF_EMAIL    DLIB50,
    QUAND_MODIF_EMAIL  TIMESTAMP DEFAULT 'NOW',
    "VERSION"          NUM_VERSION,
    IP_ACCES           DLIB50NN DEFAULT 0,
    ID_EMAIL_BDG       DID4,
    ID_TIERS_OSC       DID4
);
ALTER TABLE TA_EMAIL_OSC ADD PRIMARY KEY (ID_EMAIL);


CREATE TABLE TA_TELEPHONE_OSC (
    ID_TELEPHONE           DID3 NOT NULL,
    NUMERO_TELEPHONE       DLGR_CODE,
    POSTE_TELEPHONE        DLGR_CODEL,
    ID_I_TIERS             DID_FACULTATIF,
    QUI_CREE_TELEPHONE     DLIB50,
    QUAND_CREE_TELEPHONE   TIMESTAMP DEFAULT 'NOW',
    QUI_MODIF_TELEPHONE    DLIB50,
    QUAND_MODIF_TELEPHONE  TIMESTAMP DEFAULT 'NOW',
    "VERSION"              NUM_VERSION,
    IP_ACCES               DLIB50NN DEFAULT 0,
    ID_TELEPHONE_BDG	   DID4,
    ID_TIERS_OSC           DID4,
    CODE_T_TEL             DLGR_CODE 	
);

ALTER TABLE TA_TELEPHONE_OSC ADD PRIMARY KEY (ID_TELEPHONE);


CREATE TABLE TA_INFOS_FACTURE_OSC (
    ID_INFOS_FACTURE           DID3 NOT NULL,
    ID_FACTURE                 DID3,
    ADRESSE1                   DLIB100,
    ADRESSE2                   DLIB100,
    ADRESSE3                   DLIB100,
    CODEPOSTAL                 DCODPOS,
    VILLE                      DLIB100,
    PAYS                       DLIB100,
    ADRESSE1_LIV               DLIB100,
    ADRESSE2_LIV               DLIB100,
    ADRESSE3_LIV               DLIB100,
    CODEPOSTAL_LIV             DCODPOS,
    VILLE_LIV                  DLIB100,
    PAYS_LIV                   DLIB100,
    CODE_COMPTA                DLIB8NN,
    COMPTE                     DLIB8NN,
    NOM_TIERS                  DLIB100,
    PRENOM_TIERS               DLIB100,
    SURNOM_TIERS               DLIB20,
    CODE_T_CIVILITE            DLGR_CODEL,
    CODE_T_ENTITE              DLGR_CODEL,
    TVA_I_COM_COMPL            DLIB50,
    CODE_C_PAIEMENT            DLGR_CODEL,
    LIB_C_PAIEMENT             DLIB255,
    REPORT_C_PAIEMENT          DID_FACULTATIF,
    FIN_MOIS_C_PAIEMENT        DID_FACULTATIF,
    QUI_CREE_INFOS_FACTURE     DLIB50,
    QUAND_CREE_INFOS_FACTURE   TIMESTAMP DEFAULT 'NOW',
    QUI_MODIF_INFOS_FACTURE    DLIB50,
    QUAND_MODIF_INFOS_FACTURE  TIMESTAMP DEFAULT 'NOW',
    "VERSION"                  NUM_VERSION,
    IP_ACCES                   DLIB50NN DEFAULT 0,
    ID_INFOS_FACTURE_OSC       DID4
);
/*ALTER TABLE TA_INFOS_FACTURE_OSC ADD foreign key (ID_FACTURE) references TA_FACTURE_OSC (ID_FACTURE);*/
/******************************************************************************/
/****                               Indices  oscommerce                    ****/
/******************************************************************************/
/*CREATE INDEX TA_ARTICLE_OSC_ID_TVA ON TA_ARTICLE_OSC (ID_TVA);*/
/*CREATE INDEX TA_FACTURE_OSC_ID_TIERS ON TA_FACTURE_OSC (ID_TIERS);*/
/*CREATE INDEX TA_L_FACTURE_OSC_ID_FACTURE ON TA_L_FACTURE_OSC (ID_FACTURE);*/
/*CREATE INDEX TA_L_FACTURE_OSC_ID_T_LIGNE ON TA_L_FACTURE_OSC (ID_T_LIGNE);*/
/*CREATE INDEX TA_R_ADR_OSC_ID_ADRESSE ON TA_R_ADR_OSC (ID_ADRESSE);*/
/*CREATE INDEX TA_R_ADR_OSC_ID_TIERS ON TA_R_ADR_OSC (ID_TIERS);*/
/*CREATE INDEX TA_R_ADR_T_ADR_OSC_ID_ADRESSE ON TA_R_ADR_T_ADR_OSC (ID_ADRESSE);*/
/*CREATE INDEX TA_R_ADR_T_ADR_OSC_ID_T_ADR ON TA_R_ADR_T_ADR_OSC (ID_T_ADR);*/
/*CREATE INDEX TA_R_TEL_OSC_ID_TELEPHONE ON TA_R_TEL_OSC (ID_TELEPHONE);*/
/*CREATE INDEX TA_R_TEL_OSC_ID_TIERS ON TA_R_TEL_OSC (ID_TIERS);*/
/*CREATE INDEX TA_R_TEL_T_TEL_OSC_ID_TELEPHONE ON TA_R_TEL_T_TEL_OSC (ID_TELEPHONE);*/
/*CREATE INDEX TA_R_TEL_T_TEL_OSC_ID_T_TEL ON TA_R_TEL_T_TEL_OSC (ID_T_TEL);*/
/*CREATE INDEX TA_INFOS_FACTURE_OSC_ID_FACTURE ON TA_INFOS_FACTURE_OSC (ID_FACTURE);*/
ALTER TABLE TA_INFOS_FACTURE_OSC ADD PRIMARY KEY (ID_INFOS_FACTURE);




