<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:lgr="http://legrain.fr/ui"
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui">
    
    	<o:importConstants type="fr.legrain.document.model.TaFacture" />
    	
    <ui:define name="head">
        <script type="text/javascript">
            //<![CDATA[
            function skinChart() {
                this.cfg.shadow = false;
                this.cfg.title = '';
                this.cfg.seriesColors = ['#E88524', '#EDAE5C'];
                this.cfg.grid = {
                    background: '#ffffff',
                    borderColor: '#ffffff',
                    gridLineColor: '#F5F5F5',
                    shadow: false
                };
                this.cfg.axesDefaults = {
                    rendererOptions: {
                        textColor: '#666F77'
                    }
                };
                this.cfg.seriesDefaults = {
                    shadow: false,
                    lineWidth: 1,
                    markerOptions: {
                        shadow: false,
                        size: 7,
                        style: 'circle'
                    }
                }
            }
            //]]>  
        </script>
        <style type="text/css">
            .main-content {
                padding: 0;
            }
            
            #main-wrapper-content-facture {
                padding: 10px;
            }
        </style>
    </ui:define>
    
    
        <div class="dashboard">
            <div class="dashboard-header">
                <div class="ui-g">
                        <p:commandButton value="Fermer" styleClass="icon icon-close menuitem-fermer-droite" process="@this" 
							onstart="PF('widgetVarTabView').remove(PF('widgetVarTabView').getActiveIndex())"/>
					<!-- <i class="fa fa-file-text-o fa-3x" style="color:#e88524"></i> -->
					<h:graphicImage name="dashboard/facture.svg" library="images" height="60px" style="margin-top:1px;" />
                    <div class="ui-g-12 ui-md-6">
                        <div class="dashboard-title">
                            <h2>Facture : Tableau de bord avec Etat</h2>

                        </div>
                    </div>

                    <div class="ui-g-12 ui-g-nopad">

                    </div>
                </div>
            </div>
            
            <div id="main-wrapper-content-facture">

                    
                <div class="ui-g">


				<div class="ui-g-12 ui-md-12">
				<p:panel collapsed="true" toggleable="true" id="idPanelCriteresDashboardFactureAvecEtatAvecEtat" >
						<f:facet name="header">
							<h:outputText value="Critères et paramètres du tableau de bord - " />
							<h:outputText value="Période du " />
							<h:outputText value="#{dashBoardFactureAvecEtatController.dateDebut}" >
								<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" type="localDate"/>
							</h:outputText>
							<h:outputText value=" au " />
							<h:outputText value="#{dashBoardFactureAvecEtatController.dateFin}" >
								<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" type="localDate"/>
							</h:outputText>
							
						</f:facet>
						
					<div class="ui-g-12 ui-md-3">
					<div class="card">
		
						<p:panel header="Période en cours" styleClass="panelgrey" widgetVar="wvPanelCardChoixPeriode">
						<f:facet name="footer">
						<i class="fa fa-calendar fa-2x facturecolor" aria-hidden="true" ></i>
							<p:commandButton oncomplete="PF('wvListeFacture').filter()" 
											 update="@this,
											 		idPanelCriteresDashboardFactureAvecEtatAvecEtat,
											 		@widgetVar(wvDashFacturePanelFacture),
											 		@widgetVar(wvCountNbFactureNonPaye),
											 		@widgetVar(wvCountNbFacturePaye),
											 		@widgetVar(wvListeFacture),
											 		@widgetVar(wvListeFactureParTiers),
											 		@widgetVar(wvListeFactureMois),
											 		idPanelMensuelTitrePeriodeFacture,
											 		@widgetVar(wvGraphiqueFacture),
											 		@widgetVar(wvCountNbFactureNonPayeARelancer),
											 		@widgetVar(wvTauxFacturePaye),
											 		@widgetVar(wvTabViewFactureJour),
													@widgetVar(wvPanelFactureJourDataTable),
													@widgetVar(wvListeFactureMoisArticles),
													@widgetVar(wvListeFactureJour),
													@widgetVar(wvListeFactureJourArticles),
													@widgetVar(wvListeFactureJourComp),
													@widgetVar(wvListeFactureJourArticlesComp),
													@widgetVar(wvPanelCardComparaison),
													@widgetVar(wvPanelBlocBox),
													@widgetVar(wvPanelMensuelTitrePeriodeFacture),
													@widgetVar(wvTabViewListeMois)" 
													
								 
											 			
							action="#{dashBoardFactureAvecEtatController.refreshDashBoard('tous')}" value="Appliquer" id="periode" styleClass="ui-green" 
							style="width:80%;margin-left: 15px;bottom: 5px;">
							</p:commandButton>
							
						</f:facet>
						<div class="ui-g-12 ui-md-12" >
						<h:panelGrid columns="2" cellpadding="0">
							<p:outputLabel for="idSelectOneMenuChoixPeriode" value="Choix période " />
						        <p:selectOneMenu id="idSelectOneMenuChoixPeriode" value="#{dashBoardFactureAvecEtatController.selectedChoixPeriode}" widgetVar="wvSelectChoixPeriode" >
						        	<f:selectItems value="#{dashBoardFactureAvecEtatController.listeChoixPeriode}" var="choix" itemLabel="#{choix}" itemValue="#{choix}"/>
						        	<p:ajax update="@this, @widgetVar(wvCalendarDebut),@widgetVar(wvCalendarFin)" event="change" listener="#{dashBoardFactureAvecEtatController.initPeriode()}"/>
						        </p:selectOneMenu>
						
						 <p:outputLabel value="Du"/>
											<p:calendar value="#{dashBoardFactureAvecEtatController.dateDebut}"
												showOn="button" 
												navigator="true" 
												pattern="#{msg.date_pattern}" 
												mask="true" 
												locale="fr" 
												timeZone="#{msg.time_zone}"
												maxdate="#{dashBoardFactureAvecEtatController.dateFin}"
												size="8" widgetVar="wvCalendarDebut">
												<p:ajax event="dateSelect" listener="#{dashBoardFactureAvecEtatController.initPeriodePerso()}" update="@this, @widgetVar(wvSelectChoixPeriode), @widgetVar(wvPanelCardChoixPeriode)" />
												<p:ajax event="change" listener="#{dashBoardFactureAvecEtatController.initPeriodePerso()}" update="@this, @widgetVar(wvSelectChoixPeriode), @widgetVar(wvPanelCardChoixPeriode)"/>
											</p:calendar>

						 <p:outputLabel value="au"/>
											<p:calendar value="#{dashBoardFactureAvecEtatController.dateFin}"
												showOn="button" 
												navigator="true" 
												pattern="#{msg.date_pattern}" 
												mask="true" 
												locale="fr" 
												mindate="#{dashBoardFactureAvecEtatController.dateDebut}"
												timeZone="#{msg.time_zone}"
												size="8"  widgetVar="wvCalendarFin">
												<p:ajax event="dateSelect" listener="#{dashBoardFactureAvecEtatController.initPeriodePerso()}" update="@this, @widgetVar(wvSelectChoixPeriode), @widgetVar(wvPanelCardChoixPeriode)" />
												<p:ajax event="change" listener="#{dashBoardFactureAvecEtatController.initPeriodePerso()}" update="@this, @widgetVar(wvSelectChoixPeriode), @widgetVar(wvPanelCardChoixPeriode)"/>
											</p:calendar>

        				</h:panelGrid>
        				</div>

								</p:panel>
    				</div>
    				</div>
    				
    				<!-- CARD COMPARAISON -->
    				
    				<div class="ui-g-12 ui-md-3">
    				<p:panel styleClass="panel-no-style" rendered="#{auth.isDevLgr()}"><!-- ce panel ne sert qu'a caché le choix periode comp si pas admin -->
    				<div class="card">
		
						<p:panel styleClass="panelgrey" widgetVar="wvPanelCardComparaison" >
						<f:facet name="header">
							Période de comparaison
						<span style="float: left">
							<p:selectBooleanCheckbox value="#{dashBoardFactureAvecEtatController.comparaison}">
								<p:ajax listener="#{dashBoardFactureAvecEtatController.refreshDashBoard(dashBoardFactureAvecEtatController.codeEtatDocument)}"/>
								<p:ajax update="@this,
								 @widgetVar(wvPanelCardComparaison),
								 @widgetVar(wvPanelBlocBox),
								 @widgetVar(wvGraphiqueFacture),
								 @widgetVar(wvPanelMensuelTitrePeriodeFacture),
								 @widgetVar(wvTabViewListeMois),
								 @widgetVar(wvTabViewFactureJour),
								 @widgetVar(wvPanelFactureJourDataTable),
								 @widgetVar(wvListeFactureMoisArticles),
								 @widgetVar(wvListeFactureJour),
								 @widgetVar(wvListeFactureJourArticles),
								 @widgetVar(wvListeFactureJourComp),
								 @widgetVar(wvListeFactureJourArticlesComp),
								 @widgetVar(wvDashFacturePanelFacture)"/>
								 
							</p:selectBooleanCheckbox>
						</span>
							
						</f:facet>
						
						<div class="ui-g-12 ui-md-12" >
						<h:panelGrid columns="2" cellpadding="0">
							<p:outputLabel for="idSelectOneMenuChoixPeriodeComp" value="Choix période " />
						       <p:selectOneMenu id="idSelectOneMenuChoixPeriodeComp" value="#{dashBoardFactureAvecEtatController.selectedChoixPeriodeComp}" widgetVar="wvSelectChoixPeriodeComp" disabled="#{!dashBoardFactureAvecEtatController.comparaison}" >
						        	<f:selectItems value="#{dashBoardFactureAvecEtatController.listeChoixPeriodeComp}" var="choix" itemLabel="#{choix}" itemValue="#{choix}"/>
						        	<p:ajax update="@this, @widgetVar(wvCalendarDebutComp),@widgetVar(wvCalendarFinComp)" event="change" listener="#{dashBoardFactureAvecEtatController.initPeriodeComp()}"/>
						        </p:selectOneMenu>
						
						 <p:outputLabel value="Du"/>
											<p:calendar value="#{dashBoardFactureAvecEtatController.dateDebutComp}"
												showOn="button" 
												navigator="true" 
												pattern="#{msg.date_pattern}" 
												mask="true" 
												locale="fr" 
												timeZone="#{msg.time_zone}"
												size="8"
												maxdate="#{dashBoardFactureAvecEtatController.dateFinComp}"
												 widgetVar="wvCalendarDebutComp"
												disabled="#{!dashBoardFactureAvecEtatController.comparaison}">
												<p:ajax event="dateSelect" listener="#{dashBoardFactureAvecEtatController.initPeriodePersoComp()}" update="@this, @widgetVar(wvSelectChoixPeriodeComp), @widgetVar(wvPanelCardComparaison)" />
												<p:ajax event="change" listener="#{dashBoardFactureAvecEtatController.initPeriodePersoComp()}" update="@this, @widgetVar(wvSelectChoixPeriodeComp), @widgetVar(wvPanelCardComparaison)"/>
											</p:calendar>

						 <p:outputLabel value="au"/>
											<p:calendar value="#{dashBoardFactureAvecEtatController.dateFinComp}"
												showOn="button" 
												navigator="true" 
												pattern="#{msg.date_pattern}" 
												mask="true" 
												locale="fr" 
												timeZone="#{msg.time_zone}"
												size="8" 
												mindate="#{dashBoardFactureAvecEtatController.dateDebutComp}"
												 widgetVar="wvCalendarFinComp"
												disabled="#{!dashBoardFactureAvecEtatController.comparaison}">
												<p:ajax event="dateSelect" listener="#{dashBoardFactureAvecEtatController.initPeriodePersoComp()}" update="@this, @widgetVar(wvSelectChoixPeriodeComp), @widgetVar(wvPanelCardComparaison)" />
												<p:ajax event="change" listener="#{dashBoardFactureAvecEtatController.initPeriodePersoComp()}" update="@this, @widgetVar(wvSelectChoixPeriodeComp), @widgetVar(wvPanelCardComparaison)"/>
											</p:calendar>

        				</h:panelGrid>
        				</div>
        				
        				<f:facet name="footer">
						<i class="fa fa-calendar fa-2x facturecompcolor" aria-hidden="true"></i>
							<p:commandButton oncomplete="PF('wvListeFacture').filter()" 
											 update="@this,
											 		idPanelCriteresDashboardFactureAvecEtatAvecEtat,
											 		@widgetVar(wvDashFacturePanelFacture),
											 		@widgetVar(wvCountNbFactureNonPaye),
											 		@widgetVar(wvCountNbFacturePaye),
											 		@widgetVar(wvListeFacture),
											 		@widgetVar(wvListeFactureParTiers),
											 		@widgetVar(wvListeFactureMois),
											 		idPanelMensuelTitrePeriodeFacture,
											 		@widgetVar(wvGraphiqueFacture),
											 		@widgetVar(wvCountNbFactureNonPayeARelancer),
											 		@widgetVar(wvTauxFacturePaye),
											 		@widgetVar(wvTabViewFactureJour),
													@widgetVar(wvPanelFactureJourDataTable),
													@widgetVar(wvListeFactureMoisArticles),
													@widgetVar(wvListeFactureJour),
													@widgetVar(wvListeFactureJourArticles),
													@widgetVar(wvPanelCardComparaison),
								 					@widgetVar(wvPanelBlocBox),
								 					@widgetVar(wvPanelMensuelTitrePeriodeFacture),
												 	@widgetVar(wvTabViewListeMois)" 
													
								 
											 			
							action="#{dashBoardFactureAvecEtatController.refreshDashBoard('tous')}" value="Appliquer" id="periode" styleClass="ui-green" 
							style="width:80%;margin-left: 15px;bottom: 5px;"
							disabled="#{!dashBoardFactureAvecEtatController.comparaison}"
							 >
							 <p:ajax listener="#{dashBoardFactureAvecEtatController.refreshDashBoard(dashBoardFactureAvecEtatController.codeEtatDocument)}"/>
							 </p:commandButton>
							
						</f:facet>


								</p:panel>
    				</div>
    				</p:panel>
    				</div>
    				
    				<!-- FIN CARD COMPARAISON -->
    				

				</p:panel>
				</div>
				
				
				<div class="ui-g-12 ui-md-12" style="padding:0;">
				
				
				<p:panel widgetVar="wvPanelBlocBox" styleClass="panel-no-style" style="padding:0;"><!-- PANEL GLOBAL QUI ENGLOBE LES DEUX RANGEES DE BOX -->
				
				
					<p:panel widgetVar="wvPanelBlocBoxPeriode1" styleClass="panel-no-style" rendered="#{!dashBoardFactureAvecEtatController.comparaison}" style="padding:0;"><!-- PANEL POUR LA PERIODE 1 -->
					
					<div class="ui-g-12 ui-md-12" style="background:#ebebeb; padding:0;" >
						<div class="ui-g-12 ui-md-6 ui-lg-3">
						
							<p:panel style="background:#ebebeb;" widgetVar="wvCountNbFacturePaye">
								
								<div class="box #{dashBoardFactureAvecEtatController.cSbNbDocumentSurPeriode}" >
								<div class="titre-box"><h2> Factures réalisées</h2>
								</div>
								<h4>&#160;</h4>
								<h2>#{dashBoardFactureAvecEtatController.nbFactureSurPeriode} Factures réalisées</h2>
								<h3>Total HT : <p:outputLabel value="#{dashBoardFactureAvecEtatController.totauxCaPeriodeFacture.mtHtCalc}">
									<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />		
								</p:outputLabel>
									Total TTC :
									<p:outputLabel value="#{dashBoardFactureAvecEtatController.totauxCaPeriodeFacture.mtTtcCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />		
									</p:outputLabel>
								</h3>
								<p>Du 
								<p:outputLabel value="#{dashBoardFactureAvecEtatController.dateDebut}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
											               timeZone="#{msg.time_zone}" type="localDate"/>		
								</p:outputLabel>
								  au 
								<p:outputLabel value="#{dashBoardFactureAvecEtatController.dateFin}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
											               timeZone="#{msg.time_zone}" type="localDate"/>		
								</p:outputLabel>
								
								
								</p>
	
							<p:selectBooleanButton style="width:50%;" id="Facturetous" 
													value="false" onLabel="Sélection active" 
													widgetVar="wvFactureTous" 
													offLabel="Afficher" onIcon="ui-icon-check" offIcon="ui-icon-close">
									<p:ajax oncomplete="PF('wvListeFacture').filter()" 
											update="@this,
													@widgetVar(wvDashFacturePanelFacture),
													@widgetVar(wvCountNbFactureNonPaye),
													@widgetVar(wvCountNbFacturePaye),
													@widgetVar(wvListeFacture),
													@widgetVar(wvListeFactureParTiers),
													@widgetVar(wvListeFactureMois),
													@widgetVar(wvGraphiqueFacture),
													@widgetVar(wvCountNbFactureNonPayeARelancer),
													@widgetVar(wvTauxFacturePaye),
													@widgetVar(wvTabViewFactureJour),
													@widgetVar(wvPanelFactureJourDataTable),
													@widgetVar(wvListeFactureMoisArticles),
													@widgetVar(wvListeFactureJour),
                          							@widgetVar(wvPanelMensuelTitrePeriodeFacture),
                          							@widgetVar(wvTabViewListeMois),
                          							@widgetVar(wvPanelGlobalGraphique),
													@widgetVar(wvListeFactureJourArticles)"
											listener="#{dashBoardFactureAvecEtatController.refreshDashBoard('tous')}"/>	 
	        					</p:selectBooleanButton>
								</div> 
							</p:panel>
							
							
							
							
							
							
							
							
						</div>
						
						
						<div class="ui-g-12 ui-md-6 ui-lg-3" style="background:#ebebeb;">
							<p:panel  widgetVar="wvCountNbFactureNonPayeARelancer" 
								style="background:#ebebeb;">
								
								<div class="box #{dashBoardFactureAvecEtatController.cSbNbDocumentNonTransformeARelancerSurPeriode}" >
								<div class="titre-box"><h2> Facture à relancer</h2>
								</div>
								<h4>Factures arrivant à échéance dans moins de 15 jours</h4>
								
								<h2>#{dashBoardFactureAvecEtatController.nbFactureNonTotalementPayesARelancerSurPeriode} Facture à relancer</h2>
								<h3>Reste à régler  : <p:outputLabel value="#{dashBoardFactureAvecEtatController.totauxCaPeriodeFactureNonTotalementPayeeARelancer.resteAReglerComplet}">
									<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />		
								</p:outputLabel></h3>
								<p>Du 
								<p:outputLabel value="#{dashBoardFactureAvecEtatController.dateDebut}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
											               timeZone="#{msg.time_zone}" type="localDate"/>		
								</p:outputLabel>
								  au 
								<p:outputLabel value="#{dashBoardFactureAvecEtatController.dateFin}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
											               timeZone="#{msg.time_zone}" type="localDate"/>		
								</p:outputLabel>
								
								
								</p>

							    <p:selectBooleanButton  style="width:50%;" id="Facture15jours" value="false" onLabel="Sélection active" offLabel="Afficher" onIcon="ui-icon-check" offIcon="ui-icon-close" >
									<p:ajax oncomplete="PF('wvListeFacture').filter()" 
											event="change" 
											update="@this,
													@widgetVar(wvDashFacturePanelFacture),
													@widgetVar(wvCountNbFactureNonPaye),
													@widgetVar(wvCountNbFacturePaye),
													@widgetVar(wvListeFacture),
													@widgetVar(wvListeFactureParTiers),
													@widgetVar(wvListeFactureMois),
													@widgetVar(wvGraphiqueFacture),
													@widgetVar(wvCountNbFactureNonPayeARelancer),
													@widgetVar(wvTauxFacturePaye),
													@widgetVar(wvTabViewFactureJour),
													@widgetVar(wvPanelFactureJourDataTable),
													@widgetVar(wvListeFactureMoisArticles),
													@widgetVar(wvListeFactureJour),
                          							@widgetVar(wvPanelMensuelTitrePeriodeFacture),
                          							@widgetVar(wvTabViewListeMois),
                          							@widgetVar(wvPanelGlobalGraphique),
													@widgetVar(wvListeFactureJourArticles)"
											listener="#{dashBoardFactureAvecEtatController.refreshDashBoard('nontransformearelancer')}"/>	 
	        					</p:selectBooleanButton>
								</div> 
							</p:panel>
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-3" style="background:#ebebeb;">
							<p:panel style="background:#ebebeb;" widgetVar="wvCountNbFactureNonPaye">
								<div class="box #{dashBoardFactureAvecEtatController.cSbNbDocumentNonTransformeSurPeriode}">
							
								<div class="titre-box"><h2> Factures non payées</h2>
								</div>
								<h4>&#160;</h4>
								<h2>#{dashBoardFactureAvecEtatController.nbFactureNonTotalementPayesSurPeriode} Factures non payées</h2>
								<h3>Reste à régler  : <p:outputLabel value="#{dashBoardFactureAvecEtatController.totauxCaPeriodeFactureNonTotalementPayee.resteAReglerComplet}">
									<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />		
								</p:outputLabel></h3>
								<p>Du 
								<p:outputLabel value="#{dashBoardFactureAvecEtatController.dateDebut}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
											               timeZone="#{msg.time_zone}" type="localDate"/>		
								</p:outputLabel>
								  au 
								<p:outputLabel value="#{dashBoardFactureAvecEtatController.dateFin}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
											               timeZone="#{msg.time_zone}" type="localDate"/>		
								</p:outputLabel>
								
								
								</p>
								 <p:selectBooleanButton style="width:50%;" id="Facturenontrans" value="false" onLabel="Sélection active" offLabel="Afficher" onIcon="ui-icon-check" offIcon="ui-icon-close" >
									<p:ajax oncomplete="PF('wvListeFacture').filter()" 
											event="change" 
											update="@this,
													@widgetVar(wvDashFacturePanelFacture),
													@widgetVar(wvCountNbFactureNonPaye),
													@widgetVar(wvCountNbFacturePaye),
													@widgetVar(wvListeFacture),
													@widgetVar(wvListeFactureParTiers),
													@widgetVar(wvListeFactureMois),
													@widgetVar(wvGraphiqueFacture),
													@widgetVar(wvCountNbFactureNonPayeARelancer),
													@widgetVar(wvTauxFacturePaye),
													@widgetVar(wvTabViewFactureJour),
													@widgetVar(wvPanelFactureJourDataTable),
													@widgetVar(wvListeFactureMoisArticles),
													@widgetVar(wvListeFactureJour),
                          							@widgetVar(wvPanelMensuelTitrePeriodeFacture),
                          							@widgetVar(wvTabViewListeMois),
                          							@widgetVar(wvPanelGlobalGraphique),
													@widgetVar(wvListeFactureJourArticles)"
											listener="#{dashBoardFactureAvecEtatController.refreshDashBoard('nontransforme')}"/>	 
	        					 </p:selectBooleanButton>
								</div>
							</p:panel>
						</div>
						
						<div class="ui-g-12 ui-md-6 ui-lg-3 " style="background:#ebebeb;"> 
							<p:panel widgetVar="wvTauxFacturePaye" 
							style="background:#ebebeb;">
								<div class="box #{dashBoardFactureAvecEtatController.cSbNbDocumentTransformeSurPeriode}" >
								<div class="titre-box"><h2>Déjà réglées </h2>
								</div>
									<p:tabView style="text-align:left;">
										<p:tab title="Montant " >
										<h4>Taux de règlement (entièrement réglée)</h4>
										<h3 style="text-align:center;">Déjà réglées  : <p:outputLabel value="#{dashBoardFactureAvecEtatController.totauxCaPeriodeFactureTotalementPayee.mtTtcCalc}">
									<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />		
								</p:outputLabel></h3>
										 <div class="knob-container  ui-corner-all" style="text-align:center;">
											<p:knob labelTemplate="{value}%" value="#{dashBoardFactureAvecEtatController.tauxTotalementPayesCa}" height="70"
												width="70" disabled="true"/>
										</div> 
										<!-- TEST CHART JS -->
										</p:tab>
										<p:tab title="Nombre de Factures" >
										<h4>Taux de règlement (entièrement réglée)</h4>
										<h3 style="text-align:center;">#{dashBoardFactureAvecEtatController.nbFactureTotalementPayesSurPeriode} Factures payées</h3>
										<div class="knob-container  ui-corner-all" style="text-align:center;">
											<p:knob labelTemplate="{value}%" value="#{dashBoardFactureAvecEtatController.tauxTotalementPayesNb}" height="70"
												width="70" disabled="true" />
										</div>
										</p:tab>
									</p:tabView>
									<p:selectBooleanButton  style="width:50%;" id="FacturePaye" value="false" onLabel="Sélection active" offLabel="Afficher" onIcon="ui-icon-check" offIcon="ui-icon-close" >
									<p:ajax oncomplete="PF('wvListeFacture').filter()" event="change" 
											update="@this,
													@widgetVar(wvDashFacturePanelFacture),
													@widgetVar(wvCountNbFactureNonPaye),
													@widgetVar(wvCountNbFacturePaye),
													@widgetVar(wvListeFacture),
													@widgetVar(wvListeFactureParTiers),
													@widgetVar(wvListeFactureMois),
													@widgetVar(wvGraphiqueFacture),
													@widgetVar(wvCountNbFactureNonPayeARelancer),
													@widgetVar(wvTauxFacturePaye),
													@widgetVar(wvTabViewFactureJour),
													@widgetVar(wvPanelFactureJourDataTable),
													@widgetVar(wvListeFactureMoisArticles),
													@widgetVar(wvListeFactureJour),
                          							@widgetVar(wvPanelMensuelTitrePeriodeFacture),
                          							@widgetVar(wvTabViewListeMois),
                          							@widgetVar(wvPanelGlobalGraphique),
													@widgetVar(wvListeFactureJourArticles)"
									listener="#{dashBoardFactureAvecEtatController.refreshDashBoard('transforme')}"/>	 
	        					</p:selectBooleanButton>
								</div> 
							</p:panel>
						</div>
					
					</div>
					</p:panel><!-- FIN PANEL POUR LA PERIODE 1 -->
				
					<!-- PANEL PERIODE 2 INCLUDE -->
					<ui:include src="/dashboard/box_comparaison_dashboard_facture.xhtml" >
					</ui:include>
				
				</p:panel><!-- FIN PANEL BOX GLOBAL -->
				</div>
				<div class="ui-g-12 ui-md-12" style="margin-top: 20px;">
				<p:panel  widgetVar="wvDashFacturePanelFacture" styleClass="panel-no-style" visible="#{dashBoardFactureAvecEtatController.afficherListe()}">
					<p:tabView id="idTabViewListesFacturesDashFacture" widgetVar="wvTabViewListesFacturesDashFacture" styleClass="tabview-no-background ">
				        <p:tab title="Factures" >
				        <div class="ui-g-12 ui-md-12 ">
							<p:dataTable 	id="taFacture" 
											var="a"
											value="#{dashBoardFactureAvecEtatController.valueLignesDocument}"
											styleClass="background-color-white"
											scrollable="true"
											scrollHeight="205"
											liveResize="true"							
											widgetVar="wvListeFacture" 
											resizableColumns="true" 
											paginator="true"
											rows="#{msg.modele_datatable_ligne_par_page_debut}"
											paginatorTemplate="#{msg.modele_datatable_paginator}"
											rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
											emptyMessage="#{msg.message_datatable_vide}"
											currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
											selectionMode="single" 
											rowKey="#{a.codeDocument}" 
											reflow="true">
								
								<f:facet name="header">
	        						
	        						<span style="float:left;">
									        <p:commandButton id="idBtnListePrintEcranDasboardFacture"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardFacture.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeFacture}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton>
			<!-- styleClass="ui-priority-primary boutonPrint -->
									    </span>
									    
									       #{dashBoardFactureAvecEtatController.infoLabel}
									       
							   <span style="float:right;" class="searchbar_list">
						            <p:outputPanel>
							                <p:inputText id="globalFilter" onkeyup="PF('wvListeFacture').filter()" style="width:150px" placeholder="Rechercher"/>
							            </p:outputPanel>
						        </span>

	    						</f:facet>
	    						
	    						<p:column style="width:16px">
						            <p:rowToggler />
						        </p:column>
	    						 
								<p:column width="15%" rendered="true" filterMatchMode="contains"
									filterBy="#{a.codeDocument}" sortBy="#{a.codeDocument}"  >
									<f:facet name="header">
										<h:outputText value="Code document" />
									</f:facet>
									<p:commandLink value="#{a.codeDocument}"
										action="#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.detailDocument(dashBoardFactureAvecEtatController.ouvertureDocumentBean.recupCodeDocument(a.codeDocument,dashBoardFactureAvecEtatController.ouvertureDocumentBean.getTypeDocumentFacture()))}" 
										update=":form:tabView" oncomplete="activeTabCenter('#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.event.cssLgrTab}');">
									</p:commandLink>								
								</p:column>
	
								<p:column width="38%" filterMatchMode="contains" 
									filterBy="#{a.libelleDocument}" sortBy="#{a.libelleDocument}" >
									<f:facet name="header">
										<h:outputText value="Libellé" />
									</f:facet>
									<h:outputText value="#{a.libelleDocument}" id="idListeLibelleFacture"/>
									<p:tooltip id="toolTipListeLibelleFacture" value="#{a.libelleDocument}" shared="true" for="idListeLibelleFacture" showEffect="clip" position="top"/>
								</p:column>
	
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
									sortBy="#{a.dateDocument}">
									<f:facet name="header">
										<h:outputText value="Date document" />
									</f:facet>
									<h:outputText value="#{a.dateDocument}">
										<f:convertDateTime pattern="#{msg.date_pattern}"
											timeZone="#{msg.time_zone}" />
									</h:outputText>
								</p:column>
	
								<p:column styleClass="center" width="20%"
									filterMatchMode="contains" filterBy="#{a.codeTiers}"
									sortBy="#{a.codeTiers}">
									<f:facet name="header">
										<h:outputText value="Code Tiers" />
									</f:facet>
	
											<p:commandLink value="#{a.codeTiers}"
												action="#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.detailTiers(dashBoardFactureAvecEtatController.ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
												oncomplete="activeTabCenter('#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.event.cssLgrTab}');">
											</p:commandLink>
								</p:column>
								
								<!-- TEST NOM ENTREPRISES -->
								<p:column styleClass="center" width="25%"
									filterMatchMode="contains" filterBy="#{a.nomEntreprise}"
									sortBy="#{a.nomEntreprise}">
									<f:facet name="header">
										<h:outputText value="Raison sociale" />
									</f:facet>
									<h:outputText value="#{a.nomEntreprise}">
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="25%"
									filterMatchMode="contains" filterBy="#{a.nomTiers}"
									sortBy="#{a.nomTiers}">
									<f:facet name="header">
										<h:outputText value="Nom Tiers" />
									</f:facet>
									<h:outputText value=" #{a.nomTiers}">
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="25%"
									filterMatchMode="contains" filterBy="#{a.prenomTiers}"
									sortBy="#{a.prenomTiers}">
									<f:facet name="header">
										<h:outputText value="Prénom Tiers" />
									</f:facet>
									<h:outputText value="#{a.prenomTiers}">
									</h:outputText>
								</p:column>
	
								
								
	
								<p:column styleClass="right" width="12%"
									filterMatchMode="contains" filterBy="#{a.netHtCalc}"
									sortBy="#{a.netHtCalc}">
									<f:facet name="header">
										<h:outputText value="Montant HT" />
									</f:facet>
									<h:outputText value="#{a.netHtCalc}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>
	
								<p:column styleClass="right" width="10%"
									filterMatchMode="contains" filterBy="#{a.netTvaCalc}"
									sortBy="#{a.netTvaCalc}">
									<f:facet name="header">
										<h:outputText value="Montant TVA" />
									</f:facet>
									<h:outputText value="#{a.netTvaCalc}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>
	
								<p:column styleClass="right" width="12%"
									filterMatchMode="contains" filterBy="#{a.netTtcCalc}"
									sortBy="#{a.netTtcCalc}">
									<f:facet name="header">
										<h:outputText value="Montant " />
									</f:facet>
									<h:outputText value="#{a.netTtcCalc}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>
	
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateEchDocument)}"
									sortBy="#{a.dateEchDocument}">
									<f:facet name="header">
										<h:outputText value="Expire le" />
									</f:facet>
									<h:outputText value="#{a.dateEchDocument}">
										<f:convertDateTime pattern="#{msg.date_pattern}"
											timeZone="#{msg.time_zone}" />
									</h:outputText>
								</p:column>
	
								<p:column styleClass="right" width="12%"
									filterMatchMode="contains" filterBy="#{a.resteAReglerComplet}"
									sortBy="#{a.resteAReglerComplet}">
									<f:facet name="header">
										<h:outputText value="Reste à régler" />
									</f:facet>
									<h:outputText value="#{a.resteAReglerComplet}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>		
								
								<p:rowExpansion>
								<p:panel styleClass="panel-no-style menu-expand-dashboard" widgetVar="wvMenuExpandDashboard">
								<!-- TEST submenu choix edition impression -->
									<!-- <p:menubar>
										 <p:submenu  icon="ui-icon-print"  class="ui-icon-print-option" style="z-index: 10;"> 
								       		<p:menuitem  title="#{c_facture.titre_menu_imprimer} en brouillon" value="Brouillon" icon="fa fa-print"
												actionListener="#{dashBoardFactureAvecEtatController.imprimeEdition(a.id,dashBoardFactureAvecEtatController.editionDefautImpression, 'BROUILLON', 'false')}">
											</p:menuitem >
											<p:submenu label="Autres modèles"
												>
												<p:menu model="#{dashBoardFactureAvecEtatController.menuModelEdition}"></p:menu>
													 <c:forEach items="#{dashBoardFactureAvecEtatController.listeEdition}" var="edition" varStatus="loop">
													       <p:menuitem  title="#{edition.libelleEdition}" value="#{edition.libelleEdition}" actionListener="#{dashBoardFactureAvecEtatController.imprimeEdition(a.id,edition, 'BROUILLON', 'false')}">
															</p:menuitem >
													   </c:forEach>
											</p:submenu>
											<p:separator />
											onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/FicheFacture.rptdesign&amp;__format=pdf')"
											
											
								          	<p:menuitem title="#{c_facture.titre_menu_imprimer} en Duplicata" value="Duplicata" icon="fa fa-print"
												actionListener="#{dashBoardFactureAvecEtatController.imprimeEdition(a.id,dashBoardFactureAvecEtatController.editionDefautImpression, 'DUPLICATA', 'false')}">
											</p:menuitem>
											<p:submenu label="Autres modèles"
												>
													 <c:forEach items="#{dashBoardFactureAvecEtatController.listeEdition}" var="edition" varStatus="loop">
													       <p:menuitem  title="#{edition.libelleEdition}" value="#{edition.libelleEdition}" actionListener="#{dashBoardFactureAvecEtatController.imprimeEdition(a.id,edition, 'DUPLICATA', 'false')}">
															</p:menuitem >
													   </c:forEach>
											</p:submenu>
											<p:separator />
											
											<p:menuitem title="#{c_facture.titre_menu_imprimer} en Payer" value="Facture acquittée" icon="fa fa-print"
											
											actionListener="#{dashBoardFactureAvecEtatController.imprimeEdition(a.id,dashBoardFactureAvecEtatController.editionDefautImpression, 'PAYER', 'false')}">
											<f:attribute name="mode_edition" value="PAYER" />
											</p:menuitem>
											<p:submenu label="Autres modèles"
											>
													 <c:forEach items="#{dashBoardFactureAvecEtatController.listeEdition}" var="edition" varStatus="loop">
													       <p:menuitem  title="#{edition.libelleEdition}" value="#{edition.libelleEdition}" actionListener="#{dashBoardFactureAvecEtatController.imprimeEdition(a.id,edition, 'PAYER', 'false')}">
															</p:menuitem >
													   </c:forEach>
											</p:submenu>
											<p:separator />
											disabled="#{(dashBoardFactureAvecEtatController.etatBouton('imprimer') or dashBoardFactureAvecEtatController.stepEnCours('idLignesFacture')) or dashBoardFactureAvecEtatController.documentDTOEstVerrouille().verrouille}"
											
											<p:menuitem title="#{c_facture.titre_menu_imprimer} pour le client" value="Imprimer pour le Client" icon="fa fa-print"
												actionListener="#{dashBoardFactureAvecEtatController.imprimeEdition(a.id,dashBoardFactureAvecEtatController.editionDefautImpression, 'CLIENT', 'true')}">
												actionBean="#{dashBoardFactureAvecEtatController}"
												actionMethod="actImprimer"
												confirmHeader="Confirmation" 
												confirmMessage="Etes-vous sur de vouloir mettre à disposition du client cette facture ?. Ensuite, vous ne pourrez plus la modifier ?"
												pourClient="true"
												choixEdition="#{dashBoardFactureAvecEtatController.choixEdition}"
											</p:menuitem>
											<p:submenu label="Autres modèles">
													 <c:forEach items="#{dashBoardFactureAvecEtatController.listeEdition}" var="edition" varStatus="loop">
													       <p:menuitem  title="#{edition.libelleEdition}" value="#{edition.libelleEdition}" actionListener="#{dashBoardFactureAvecEtatController.imprimeEdition(a.id,edition, 'CLIENT', 'false')}">
															</p:menuitem >
													   </c:forEach>
											</p:submenu>
											
										</p:submenu>
									</p:menubar> -->
								<!-- FIN TEST submenu choix edition impression -->
								<!-- <p:splitButton id="basic" value="Save" action="#{dashBoardFactureAvecEtatController.actInitPaiementCarteBancaire}"  icon="pi pi-save">
						            <p:menuitem value="Update" action="#{dashBoardFactureAvecEtatController.actInitPaiementCarteBancaire}"  icon="pi pi-refresh" />
						            <p:menuitem value="Delete" action="#{dashBoardFactureAvecEtatController.actInitPaiementCarteBancaire}" ajax="false" icon="pi pi-times" />
						            <p:separator />
						            <p:menuitem value="Homepage" url="http://www.primefaces.org" icon="pi pi-home" />
						            
						        </p:splitButton> -->
										<p:commandButton value="" 
											disabled="#{a.resteAReglerComplet le 0}"
											actionListener="#{dashBoardFactureAvecEtatController.actInitPaiementCarteBancaire}" process="@this" styleClass="icon-medium icon-paiment-cb" title="Payer par carte bancaire">
											<f:attribute name="idDocument" value="#{a.id}"/>
									        <p:ajax event="dialogReturn" update="@this,
													 		@widgetVar(wvDashFacturePanelFacture),
													 		@widgetVar(wvCountNbFactureNonPaye),
													 		@widgetVar(wvCountNbFacturePaye),
													 		@widgetVar(wvListeFacture),
													 		@widgetVar(wvListeFactureParTiers),
													 		@widgetVar(wvListeFactureMois),
													 		@widgetVar(wvGraphiqueFacture),
													 		@widgetVar(wvCountNbFactureNonPayeARelancer),
													 		@widgetVar(wvTauxFacturePaye),
													 		@widgetVar(wvTabViewFactureJour),
															@widgetVar(wvPanelFactureJourDataTable),
															@widgetVar(wvListeFactureMoisArticles),
															@widgetVar(wvListeFactureJour),
															@widgetVar(wvListeFactureJourArticles)" 
													listener="#{dashBoardFactureAvecEtatController.handleReturnDialoguePaiementParCarte}" />  
									    </p:commandButton>
										<p:commandButton value="" 
											actionListener="#{dashBoardFactureAvecEtatController.actDialogGenerationReglement}" process="@this"  styleClass="icon-medium icon-reglement"
											 title="Règlements de la facture">
											<f:attribute name="idDocument" value="#{a.id}"/>
									        <p:ajax event="dialogReturn" update="@this,
													 		@widgetVar(wvDashFacturePanelFacture),
													 		@widgetVar(wvCountNbFactureNonPaye),
													 		@widgetVar(wvCountNbFacturePaye),
													 		@widgetVar(wvListeFacture),
													 		@widgetVar(wvListeFactureParTiers),
													 		@widgetVar(wvListeFactureMois),
													 		@widgetVar(wvGraphiqueFacture),
													 		@widgetVar(wvCountNbFactureNonPayeARelancer),
													 		@widgetVar(wvTauxFacturePaye),
													 		@widgetVar(wvTabViewFactureJour),
															@widgetVar(wvPanelFactureJourDataTable),
															@widgetVar(wvListeFactureMoisArticles),
															@widgetVar(wvListeFactureJour),
															@widgetVar(wvListeFactureJourArticles)" 
													listener="#{dashBoardFactureAvecEtatController.handleReturnDialogGestionReglement}" />  
									    </p:commandButton> 
									</p:panel>
								</p:rowExpansion>					
							</p:dataTable>
							</div>
						</p:tab>
						<!-- TAB FACTURE PAR TIERS -->
						<p:tab title="Détail des factures">
							
							<div class="ui-g-12 ui-md-12">
							<p:dataTable id="taFactureParTiers" var="a"
								value="#{dashBoardFactureAvecEtatController.listeDocumentFactureParTiers}"
								scrollable="true"
								scrollHeight="135"
								styleClass="background-color-white"
								liveResize="true"
								widgetVar="wvListeFactureParTiers" resizableColumns="true" 
								paginator="true"
								rows="#{msg.modele_datatable_ligne_par_page_debut}"
								paginatorTemplate="#{msg.modele_datatable_paginator}"
								rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
								emptyMessage="#{msg.message_datatable_vide}"
								currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
								
								
								selectionMode="single" rowKey="#{a.codeDocument}" reflow="true">
								
								<f:facet name="header">
								<span style="float:left;">
									        <p:commandButton id="idBtnListePrintEcranDasboardFactureDetail"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardFactureDetail.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeFactureDetail}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton>
									    </span>
										
	    								Détail des factures sur la période 
	    								<span style="float:right;" class="searchbar_list">
						            <p:outputPanel>
							                <p:inputText id="globalFilter" onkeyup="PF('wvListeFactureParTiers').filter()" style="width:150px" placeholder="Rechercher"/>
							            </p:outputPanel>
						        </span>
	    						</f:facet>
	    					
	    						 
								<p:column width="15%" rendered="true" filterMatchMode="contains"
									filterBy="#{a.codeDocument}" sortBy="#{a.codeDocument}"  >
									<f:facet name="header">
										<h:outputText value="Code document" />
									</f:facet>
									<p:commandLink value="#{a.codeDocument}"
										action="#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.detailDocument(dashBoardFactureAvecEtatController.ouvertureDocumentBean.recupCodeDocument(a.codeDocument,dashBoardFactureAvecEtatController.ouvertureDocumentBean.getTypeDocumentFacture()))}" 
										update=":form:tabView" oncomplete="activeTabCenter('#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.event.cssLgrTab}');">
									</p:commandLink>								
								</p:column>

	
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
									sortBy="#{a.dateDocument}">
									<f:facet name="header">
										<h:outputText value="Date document" />
									</f:facet>
									<h:outputText value="#{a.dateDocument}">
										<f:convertDateTime pattern="#{msg.date_pattern}"
											timeZone="#{msg.time_zone}" />
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.codeArticle}"
									sortBy="#{a.codeArticle}">
									<f:facet name="header">
										<h:outputText value="code Article" />
									</f:facet>
									<p:commandLink value="#{a.codeArticle}"
										action="#{ouvertureDocumentBean.detailArticle(ouvertureDocumentBean.recupCodeArticle(a.codeArticle))}" 
										update=":form:tabView" oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
									</p:commandLink>
								</p:column>
								
								
								
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.libellecArticle}"
									sortBy="#{a.libellecArticle}">
									<f:facet name="header">
										<h:outputText value="libelle Article" />
									</f:facet>
									<h:outputText value="#{a.libellecArticle}">
									</h:outputText>
								</p:column>
	
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.codeTiers}"
									sortBy="#{a.codeTiers}">
									<f:facet name="header">
										<h:outputText value="Code Tiers" />
									</f:facet>
											<p:commandLink value="#{a.codeTiers}"
												action="#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.detailTiers(dashBoardFactureAvecEtatController.ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
												oncomplete="activeTabCenter('#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.event.cssLgrTab}');">
											</p:commandLink>
								</p:column>
								
								<!-- TEST NOM ENTREPRISES -->
								<p:column styleClass="center" width="20%"
									filterMatchMode="contains" filterBy="#{a.nomEntreprise}"
									sortBy="#{a.nomEntreprise}">
									<f:facet name="header">
										<h:outputText value="Raison sociale" />
									</f:facet>
									<h:outputText value="#{a.nomEntreprise}">
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="25%"
									filterMatchMode="contains" filterBy="#{a.nomTiers}"
									sortBy="#{a.nomTiers}">
									<f:facet name="header">
										<h:outputText value="Nom Tiers" />
									</f:facet>
									<h:outputText value=" #{a.nomTiers}">
									</h:outputText>
								</p:column>
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.prenomTiers}"
									sortBy="#{a.prenomTiers}">
									<f:facet name="header">
										<h:outputText value="Prénom Tiers" />
									</f:facet>
									<h:outputText value="#{a.prenomTiers}">
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.u1LDocument}"
									sortBy="#{a.u1LDocument}">
									<f:facet name="header">
										<h:outputText value="Unité" />
									</f:facet>
									<h:outputText value="#{a.u1LDocument}">
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.qteLDocument}"
									sortBy="#{a.qteLDocument}">
									<f:facet name="header">
										<h:outputText value="Quantité" />
									</f:facet>
									<h:outputText value="#{a.qteLDocument}">
									</h:outputText>
								</p:column>
								
	
								<p:column styleClass="right" width="12%"
									filterMatchMode="contains" filterBy="#{a.mtHtCalc}"
									sortBy="#{a.mtHtCalc}">
									<f:facet name="header">
										<h:outputText value="Montant HT" />
									</f:facet>
									<h:outputText value="#{a.mtHtCalc}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>
	
								
	
								<p:column styleClass="right" width="12%"
									filterMatchMode="contains" filterBy="#{a.mtTtcCalc}"
									sortBy="#{a.mtTtcCalc}">
									<f:facet name="header">
										<h:outputText value="Montant " />
									</f:facet>
									<h:outputText value="#{a.mtTtcCalc}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>

								
							</p:dataTable>
							</div>
						</p:tab>
						<!-- DEBUT DES TABS COMPARAISONS -->
						<p:tab title="Factures du #{dashBoardFactureAvecEtatController.customFormatDate(dashBoardFactureAvecEtatController.dateDebutComp)} au #{dashBoardFactureAvecEtatController.customFormatDate(dashBoardFactureAvecEtatController.dateFinComp)}" rendered="#{dashBoardFactureAvecEtatController.comparaison}">
				        <div class="ui-g-12 ui-md-12 ">
							<p:dataTable 	id="taFactureComp" 
											var="a"
											value="#{dashBoardFactureAvecEtatController.valueLignesDocumentComp}"
											styleClass="background-color-white"
											scrollable="true"
											scrollHeight="150"
											liveResize="true"							
											widgetVar="wvListeFactureComp" 
											resizableColumns="true" 
											paginator="true"
											rows="#{msg.modele_datatable_ligne_par_page_debut}"
											paginatorTemplate="#{msg.modele_datatable_paginator}"
											rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
											emptyMessage="#{msg.message_datatable_vide}"
											currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
											selectionMode="single" 
											rowKey="#{a.codeDocument}" 
											reflow="true">
								
								<f:facet name="header">
	        						
	        						<span style="float:left;">
									        <p:commandButton id="idBtnListePrintEcranDasboardFacture"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardFacture.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeFactureComp}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton>
									    </span>
<!-- 									<span style="float:left;"> -->
<!-- 									        <p:commandButton id="idBtnListePrintEcranDasboardFactureComp" -->
<!-- 							 title="Imprimer la comparaison"  -->
<!-- 			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardFactureAvecEtatComparaison.rptdesign&amp;__format=pdf')" -->
<!-- 			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeFactureComparaison}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print" -->
<!-- 			process="@this" ></p:commandButton> -->
<!-- 									    </span> -->
									    
									       Liste des factures
									       
							   <span style="float:right;" class="searchbar_list">
						            <p:outputPanel>
							                <p:inputText id="globalFilter" onkeyup="PF('wvListeFacture').filter()" style="width:150px" placeholder="Rechercher"/>
							            </p:outputPanel>
						        </span>

	    						</f:facet>
	    						
	    						<p:column style="width:16px">
						            <p:rowToggler />
						        </p:column>
	    						 
								<p:column width="15%" rendered="true" filterMatchMode="contains"
									filterBy="#{a.codeDocument}" sortBy="#{a.codeDocument}"  >
									<f:facet name="header">
										<h:outputText value="Code document" />
									</f:facet>
									<p:commandLink value="#{a.codeDocument}"
										action="#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.detailDocument(dashBoardFactureAvecEtatController.ouvertureDocumentBean.recupCodeDocument(a.codeDocument,dashBoardFactureAvecEtatController.ouvertureDocumentBean.getTypeDocumentFacture()))}" 
										update=":form:tabView" oncomplete="activeTabCenter('#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.event.cssLgrTab}');">
									</p:commandLink>								
								</p:column>
	
								<p:column width="38%" filterMatchMode="contains" 
									filterBy="#{a.libelleDocument}" sortBy="#{a.libelleDocument}" >
									<f:facet name="header">
										<h:outputText value="Libellé" />
									</f:facet>
									<h:outputText value="#{a.libelleDocument}" id="idListeLibelleFacture"/>
									<p:tooltip id="toolTipListeLibelleFacture" value="#{a.libelleDocument}" shared="true" for="idListeLibelleFacture" showEffect="clip" position="top"/>
								</p:column>
	
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
									sortBy="#{a.dateDocument}">
									<f:facet name="header">
										<h:outputText value="Date document" />
									</f:facet>
									<h:outputText value="#{a.dateDocument}">
										<f:convertDateTime pattern="#{msg.date_pattern}"
											timeZone="#{msg.time_zone}" />
									</h:outputText>
								</p:column>
	
								<p:column styleClass="center" width="20%"
									filterMatchMode="contains" filterBy="#{a.codeTiers}"
									sortBy="#{a.codeTiers}">
									<f:facet name="header">
										<h:outputText value="Code Tiers" />
									</f:facet>
	
											<p:commandLink value="#{a.codeTiers}"
												action="#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.detailTiers(dashBoardFactureAvecEtatController.ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
												oncomplete="activeTabCenter('#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.event.cssLgrTab}');">
											</p:commandLink>
								</p:column>
								
								<!-- TEST NOM ENTREPRISES -->
								<p:column styleClass="center" width="25%"
									filterMatchMode="contains" filterBy="#{a.nomEntreprise}"
									sortBy="#{a.nomEntreprise}">
									<f:facet name="header">
										<h:outputText value="Raison sociale" />
									</f:facet>
									<h:outputText value="#{a.nomEntreprise}">
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="25%"
									filterMatchMode="contains" filterBy="#{a.nomTiers}"
									sortBy="#{a.nomTiers}">
									<f:facet name="header">
										<h:outputText value="Nom Tiers" />
									</f:facet>
									<h:outputText value=" #{a.nomTiers}">
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="25%"
									filterMatchMode="contains" filterBy="#{a.prenomTiers}"
									sortBy="#{a.prenomTiers}">
									<f:facet name="header">
										<h:outputText value="Prénom Tiers" />
									</f:facet>
									<h:outputText value="#{a.prenomTiers}">
									</h:outputText>
								</p:column>
	
								
								
	
								<p:column styleClass="right" width="12%"
									filterMatchMode="contains" filterBy="#{a.netHtCalc}"
									sortBy="#{a.netHtCalc}">
									<f:facet name="header">
										<h:outputText value="Montant HT" />
									</f:facet>
									<h:outputText value="#{a.netHtCalc}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>
	
								<p:column styleClass="right" width="10%"
									filterMatchMode="contains" filterBy="#{a.netTvaCalc}"
									sortBy="#{a.netTvaCalc}">
									<f:facet name="header">
										<h:outputText value="Montant TVA" />
									</f:facet>
									<h:outputText value="#{a.netTvaCalc}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>
	
								<p:column styleClass="right" width="12%"
									filterMatchMode="contains" filterBy="#{a.netTtcCalc}"
									sortBy="#{a.netTtcCalc}">
									<f:facet name="header">
										<h:outputText value="Montant " />
									</f:facet>
									<h:outputText value="#{a.netTtcCalc}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>
	
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateEchDocument)}"
									sortBy="#{a.dateEchDocument}">
									<f:facet name="header">
										<h:outputText value="Expire le" />
									</f:facet>
									<h:outputText value="#{a.dateEchDocument}">
										<f:convertDateTime pattern="#{msg.date_pattern}"
											timeZone="#{msg.time_zone}" />
									</h:outputText>
								</p:column>
	
								<p:column styleClass="right" width="12%"
									filterMatchMode="contains" filterBy="#{a.resteAReglerComplet}"
									sortBy="#{a.resteAReglerComplet}">
									<f:facet name="header">
										<h:outputText value="Reste à régler" />
									</f:facet>
									<h:outputText value="#{a.resteAReglerComplet}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>		
								
								<p:rowExpansion>
									<p:commandButton value="Payer par carte bancaire" 
										disabled="#{a.resteAReglerComplet le 0}"
										actionListener="#{dashBoardFactureAvecEtatController.actInitPaiementCarteBancaire}" process="@this"  >
										<f:attribute name="idDocument" value="#{a.id}"/>
								        <p:ajax event="dialogReturn" update="@this,
												 		@widgetVar(wvDashFacturePanelFacture),
												 		@widgetVar(wvCountNbFactureNonPaye),
												 		@widgetVar(wvCountNbFacturePaye),
												 		@widgetVar(wvListeFacture),
												 		@widgetVar(wvListeFactureParTiers),
												 		@widgetVar(wvListeFactureMois),
												 		@widgetVar(wvGraphiqueFacture),
												 		@widgetVar(wvCountNbFactureNonPayeARelancer),
												 		@widgetVar(wvTauxFacturePaye),
												 		@widgetVar(wvTabViewFactureJour),
														@widgetVar(wvPanelFactureJourDataTable),
														@widgetVar(wvListeFactureMoisArticles),
														@widgetVar(wvListeFactureJour),
														@widgetVar(wvListeFactureJourArticles)" 
												listener="#{dashBoardFactureAvecEtatController.handleReturnDialoguePaiementParCarte}" />  
								    </p:commandButton>
									<p:commandButton value="Régler la facture" 
										actionListener="#{dashBoardFactureAvecEtatController.actDialogGenerationReglement}" process="@this"  >
										<f:attribute name="idDocument" value="#{a.id}"/>
								        <p:ajax event="dialogReturn" update="@this,
												 		@widgetVar(wvDashFacturePanelFacture),
												 		@widgetVar(wvCountNbFactureNonPaye),
												 		@widgetVar(wvCountNbFacturePaye),
												 		@widgetVar(wvListeFacture),
												 		@widgetVar(wvListeFactureParTiers),
												 		@widgetVar(wvListeFactureMois),
												 		@widgetVar(wvGraphiqueFacture),
												 		@widgetVar(wvCountNbFactureNonPayeARelancer),
												 		@widgetVar(wvTauxFacturePaye),
												 		@widgetVar(wvTabViewFactureJour),
														@widgetVar(wvPanelFactureJourDataTable),
														@widgetVar(wvListeFactureMoisArticles),
														@widgetVar(wvListeFactureJour),
														@widgetVar(wvListeFactureJourArticles)" 
												listener="#{dashBoardFactureAvecEtatController.handleReturnDialogGestionReglement}" />  
								    </p:commandButton>								    
								</p:rowExpansion>					
							</p:dataTable>
							</div>
						</p:tab>
						<!-- TAB FACTURE PAR TIERS COMP-->
						<p:tab title="Détail des factures du #{dashBoardFactureAvecEtatController.customFormatDate(dashBoardFactureAvecEtatController.dateDebutComp)} au #{dashBoardFactureAvecEtatController.customFormatDate(dashBoardFactureAvecEtatController.dateFinComp)}" rendered="#{dashBoardFactureAvecEtatController.comparaison}">
							
							<div class="ui-g-12 ui-md-12 ">
							<p:dataTable id="taFactureParTiersComp" var="a"
								value="#{dashBoardFactureAvecEtatController.listeDocumentFactureParTiersComp}"
								scrollable="true"
								scrollHeight="135"
								styleClass="background-color-white"
								liveResize="true"
								widgetVar="wvListeFactureParTiersComp" resizableColumns="true" 
								paginator="true"
								rows="#{msg.modele_datatable_ligne_par_page_debut}"
								paginatorTemplate="#{msg.modele_datatable_paginator}"
								rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
								emptyMessage="#{msg.message_datatable_vide}"
								currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
								
								
								selectionMode="single" rowKey="#{a.codeDocument}" reflow="true">
								
								<f:facet name="header">
								<span style="float:left;">
									         <p:commandButton id="idBtnListePrintEcranDasboardFactureDetail"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardFactureDetail.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeFactureDetailComp}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton> 
									    </span>
<!-- 								<span style="float:left;"> -->
<!-- 									         <p:commandButton id="idBtnListePrintEcranDasboardFactureDetailComp" -->
<!-- 							 title="Imprimer la comparaison"  -->
<!-- 			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardFactureAvecEtatDetailComparaison.rptdesign&amp;__format=pdf')" -->
<!-- 			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeFactureDetailComparaison}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print" -->
<!-- 			process="@this" ></p:commandButton>  -->
<!-- 									    </span> -->
										
	    								Détail des factures sur la période 
	    								<span style="float:right;" class="searchbar_list">
						            <p:outputPanel>
							                <p:inputText id="globalFilter" onkeyup="PF('wvListeFactureParTiers').filter()" style="width:150px" placeholder="Rechercher"/>
							            </p:outputPanel>
						        </span>
	    						</f:facet>
	    					
	    						 
								<p:column width="15%" rendered="true" filterMatchMode="contains"
									filterBy="#{a.codeDocument}" sortBy="#{a.codeDocument}"  >
									<f:facet name="header">
										<h:outputText value="Code document" />
									</f:facet>
									<p:commandLink value="#{a.codeDocument}"
										action="#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.detailDocument(dashBoardFactureAvecEtatController.ouvertureDocumentBean.recupCodeDocument(a.codeDocument,dashBoardFactureAvecEtatController.ouvertureDocumentBean.getTypeDocumentFacture()))}" 
										update=":form:tabView" oncomplete="activeTabCenter('#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.event.cssLgrTab}');">
									</p:commandLink>								
								</p:column>

	
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
									sortBy="#{a.dateDocument}">
									<f:facet name="header">
										<h:outputText value="Date document" />
									</f:facet>
									<h:outputText value="#{a.dateDocument}">
										<f:convertDateTime pattern="#{msg.date_pattern}"
											timeZone="#{msg.time_zone}" />
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.codeArticle}"
									sortBy="#{a.codeArticle}">
									<f:facet name="header">
										<h:outputText value="code Article" />
									</f:facet>
									<p:commandLink value="#{a.codeArticle}"
										action="#{ouvertureDocumentBean.detailArticle(ouvertureDocumentBean.recupCodeArticle(a.codeArticle))}" 
										update=":form:tabView" oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
									</p:commandLink>
								</p:column>
								
								
								
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.libellecArticle}"
									sortBy="#{a.libellecArticle}">
									<f:facet name="header">
										<h:outputText value="libelle Article" />
									</f:facet>
									<h:outputText value="#{a.libellecArticle}">
									</h:outputText>
								</p:column>
	
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.codeTiers}"
									sortBy="#{a.codeTiers}">
									<f:facet name="header">
										<h:outputText value="Code Tiers" />
									</f:facet>
											<p:commandLink value="#{a.codeTiers}"
												action="#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.detailTiers(dashBoardFactureAvecEtatController.ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
												oncomplete="activeTabCenter('#{dashBoardFactureAvecEtatController.ouvertureDocumentBean.event.cssLgrTab}');">
											</p:commandLink>
								</p:column>
								
								<!-- TEST NOM ENTREPRISES -->
								<p:column styleClass="center" width="20%"
									filterMatchMode="contains" filterBy="#{a.nomEntreprise}"
									sortBy="#{a.nomEntreprise}">
									<f:facet name="header">
										<h:outputText value="Raison sociale" />
									</f:facet>
									<h:outputText value="#{a.nomEntreprise}">
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="25%"
									filterMatchMode="contains" filterBy="#{a.nomTiers}"
									sortBy="#{a.nomTiers}">
									<f:facet name="header">
										<h:outputText value="Nom Tiers" />
									</f:facet>
									<h:outputText value=" #{a.nomTiers}">
									</h:outputText>
								</p:column>
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.prenomTiers}"
									sortBy="#{a.prenomTiers}">
									<f:facet name="header">
										<h:outputText value="Prénom Tiers" />
									</f:facet>
									<h:outputText value="#{a.prenomTiers}">
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.u1LDocument}"
									sortBy="#{a.u1LDocument}">
									<f:facet name="header">
										<h:outputText value="Unité" />
									</f:facet>
									<h:outputText value="#{a.u1LDocument}">
									</h:outputText>
								</p:column>
								
								<p:column styleClass="center" width="12%"
									filterMatchMode="contains" filterBy="#{a.qteLDocument}"
									sortBy="#{a.qteLDocument}">
									<f:facet name="header">
										<h:outputText value="Quantité" />
									</f:facet>
									<h:outputText value="#{a.qteLDocument}">
									</h:outputText>
								</p:column>
								
	
								<p:column styleClass="right" width="12%"
									filterMatchMode="contains" filterBy="#{a.mtHtCalc}"
									sortBy="#{a.mtHtCalc}">
									<f:facet name="header">
										<h:outputText value="Montant HT" />
									</f:facet>
									<h:outputText value="#{a.mtHtCalc}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>
	
								
	
								<p:column styleClass="right" width="12%"
									filterMatchMode="contains" filterBy="#{a.mtTtcCalc}"
									sortBy="#{a.mtTtcCalc}">
									<f:facet name="header">
										<h:outputText value="Montant " />
									</f:facet>
									<h:outputText value="#{a.mtTtcCalc}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
								</p:column>

								
							</p:dataTable>
							</div>
						</p:tab>
						<!-- FIN DES TABS COMPARAISONS -->
					</p:tabView>
					</p:panel>
				</div>
				
				<div class="ui-g-12 ui-md-12" style="background:#ebebeb;">
				<p:panel widgetVar="wvPanelGlobalGraphique" visible="#{dashBoardFactureAvecEtatController.afficherListe()}">
				<div class="ui-g-12 ui-md-4">
						<p:panel id="idPanelMensuelTitrePeriodeFacture" widgetVar="wvPanelMensuelTitrePeriodeFacture"  visible="#{dashBoardFactureAvecEtatController.afficherListe()}">
						<f:facet name="header">
							<h:outputText value="Période du " />
							<h:outputText value="#{dashBoardFactureAvecEtatController.dateDebut}" >
								<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" type="localDate"/>
							</h:outputText>
							<h:outputText value=" au " />
							<h:outputText value="#{dashBoardFactureAvecEtatController.dateFin}" >
								<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" type="localDate"/>
							</h:outputText>
							
							<h:outputText value=" || " rendered="#{dashBoardFactureAvecEtatController.comparaison}"/>
							
							<h:outputText value="Période du " rendered="#{dashBoardFactureAvecEtatController.comparaison}" />
							<h:outputText value="#{dashBoardFactureAvecEtatController.dateDebutComp}" rendered="#{dashBoardFactureAvecEtatController.comparaison}" >
								<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" type="localDate"/>
							</h:outputText>
							<h:outputText value=" au " rendered="#{dashBoardFactureAvecEtatController.comparaison}"/>
							<h:outputText value="#{dashBoardFactureAvecEtatController.dateFinComp}" rendered="#{dashBoardFactureAvecEtatController.comparaison}">
								<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" type="localDate"/>
							</h:outputText>
							
							
						</f:facet>
					</p:panel>
					
					<p:tabView widgetVar="wvGraphiqueFacture" styleClass="tabview-no-background" >
					<!-- GRAPHIQUE BARRE MENSUEL -->
						<p:tab title="Facture">
								<p:chart type="bar" model="#{dashBoardFactureAvecEtatController.barChartModelFacture}" 
								
								responsive="true" 
								style="height:300px;" rendered="#{!dashBoardFactureAvecEtatController.comparaison}">
								
							<p:ajax event="itemSelect" 
									listener="#{dashBoardFactureAvecEtatController.itemSelectMois}" 
									update="@widgetVar(wvListeFactureMois),
											@widgetVar(wvGraphiqueFactureJour),
											@widgetVar(wvTabViewFactureJour),
											@widgetVar(wvPanelFactureJourDataTable),
											@widgetVar(wvListeFactureMoisArticles),
											@widgetVar(wvTabViewListeMois)"
											style="cursor: hand"/>
							</p:chart>
							<!-- GRAPHIQUE LINE MENSUEL -->
							<p:chart type="line" model="#{dashBoardFactureAvecEtatController.lineChartModelFacture}" 
								responsive="true" 
								style="height:300px;" rendered="#{dashBoardFactureAvecEtatController.comparaison and !dashBoardFactureAvecEtatController.chevauchementPeriode}" >
								
							<p:ajax event="itemSelect" 
									listener="#{dashBoardFactureAvecEtatController.itemSelectMoisComp}" 
									update="@widgetVar(wvListeFactureMois),
											@widgetVar(wvGraphiqueFactureJour),
											@widgetVar(wvTabViewFactureJour),
											@widgetVar(wvPanelFactureJourDataTable),
											@widgetVar(wvListeFactureMoisArticles),
											@widgetVar(wvListeFactureJour),
											@widgetVar(wvListeFactureJourArticles),
											@widgetVar(wvListeFactureJourComp),
											@widgetVar(wvListeFactureJourArticlesComp),
											@widgetVar(wvTabViewListeMois),
											@widgetVar(wvTabViewListeJours)"
											style="cursor: hand"/>
							</p:chart>
							<p:outputLabel rendered="#{dashBoardFactureAvecEtatController.comparaison and dashBoardFactureAvecEtatController.chevauchementPeriode}">
							Les périodes choisient se chevauchent : Graphique non disponible.
							</p:outputLabel>

						</p:tab>
						
						
					</p:tabView>
					</div>
					
					
					<div class="ui-g-12 ui-md-8">
				
					<p:tabView styleClass="tabview-no-background background-transparent" widgetVar="wvTabViewListeMois" >
						<p:tab title="Liste des documents par mois">
            			<h:panelGrid columns="2" cellpadding="10">
                	
						<br/>
						
						<p:dataTable id="idFactureMois" var="a"
							value="#{dashBoardFactureAvecEtatController.listeDocumentDetailMois}"
							scrollable="true"
							scrollHeight="135"
							liveResize="true"
							styleClass="background-white"
							widgetVar="wvListeFactureMois" resizableColumns="true" 
							paginator="true"
							rows="#{msg.modele_datatable_ligne_par_page_debut}"
							paginatorTemplate="#{msg.modele_datatable_paginator}"
							rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
							emptyMessage="#{msg.message_datatable_vide}"
							currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
							
							selectionMode="single" rowKey="#{a.codeDocument}" reflow="true">
							
							<f:facet name="header">
									<span style="float:left;">
									        <p:commandButton id="idBtnListePrintEcranDasboardListeDocMois"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardDocMois.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeDocMois}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton>
									    </span>
									    
    								#{dashBoardFactureAvecEtatController.infosLabelRapportMensuelDataTable}s
    						</f:facet>
    						 
							<p:column width="20%" rendered="true" filterMatchMode="contains"
								filterBy="#{a.codeDocument}" sortBy="#{a.codeDocument}"  >
								<f:facet name="header">
									<h:outputText value="Code" />
								</f:facet>
								<p:commandLink value="#{a.codeDocument}"
									action="#{ouvertureDocumentBean.detailDocument(ouvertureDocumentBean.recupCodeDocument(a.codeDocument,ouvertureDocumentBean.getTypeDocumentFacture()))}" 
									update=":form:tabView" oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
								</p:commandLink>

							</p:column>

							<p:column width="33%" filterMatchMode="contains" 
								filterBy="#{a.libelleDocument}" sortBy="#{a.libelleDocument}">
								<f:facet name="header">
									<h:outputText value="Libellé" />
								</f:facet>
								<h:outputText value="#{a.libelleDocument}" />
							</p:column>

							<p:column styleClass="center" width="17%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
								sortBy="#{a.dateDocument}">
								<f:facet name="header">
									<h:outputText value="Date" />
								</f:facet>
								<h:outputText value="#{a.dateDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeTiers}"
								sortBy="#{a.codeTiers}">
								<f:facet name="header">
									<h:outputText value="Code Tiers" />
								</f:facet>

										<p:commandLink value="#{a.codeTiers}"
											action="#{ouvertureDocumentBean.detailTiers(ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
											oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
										</p:commandLink>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.nomTiers}"
								sortBy="#{a.nomTiers}">
								<f:facet name="header">
									<h:outputText value="Tiers" />
								</f:facet>
								<h:outputText value="#{a.nomTiers}">
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="12%"
								filterMatchMode="contains" filterBy="#{a.netHtCalc}"
								sortBy="#{a.netHtCalc}">
								<f:facet name="header">
									<h:outputText value="HT" />
								</f:facet>
								<h:outputText value="#{a.netHtCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="10%"
								filterMatchMode="contains" filterBy="#{a.netTvaCalc}"
								sortBy="#{a.netTvaCalc}">
								<f:facet name="header">
									<h:outputText value="TVA" />
								</f:facet>
								<h:outputText value="#{a.netTvaCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="12%"
								filterMatchMode="contains" filterBy="#{a.netTtcCalc}"
								sortBy="#{a.netTtcCalc}">
								<f:facet name="header">
									<h:outputText value="TTC" />
								</f:facet>
								<h:outputText value="#{a.netTtcCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="12%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateEchDocument)}"
								sortBy="#{a.dateEchDocument}">
								<f:facet name="header">
									<h:outputText value="Expire le" />
								</f:facet>
								<h:outputText value="#{a.dateEchDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>
							<p:column styleClass="right" width="12%"
								filterMatchMode="contains" filterBy="#{a.resteAReglerComplet}"
								sortBy="#{a.resteAReglerComplet}">
								<f:facet name="header">
									<h:outputText value="Reste à régler" />
								</f:facet>
								<h:outputText value="#{a.resteAReglerComplet}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>
							
						</p:dataTable>
                		
            			</h:panelGrid>
        				</p:tab>
						<p:tab title="Détail des articles par mois">
						<h:panelGrid columns="2" cellpadding="10">
						
						<p:dataTable id="taFactureArticlesParTiersParMois" var="a"
							value="#{dashBoardFactureAvecEtatController.listeDocumentArticleParTiersParMois}"
							scrollable="true"
							scrollHeight="135"
							liveResize="true"
							styleClass="background-white"
							widgetVar="wvListeFactureMoisArticles" resizableColumns="true" 
							paginator="true"
							rows="#{msg.modele_datatable_ligne_par_page_debut}"
							paginatorTemplate="#{msg.modele_datatable_paginator}"
							rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
							emptyMessage="#{msg.message_datatable_vide}"
							currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
							
							selectionMode="single" rowKey="#{a.codeDocument}" reflow="true">
							
							<f:facet name="header">
									<span style="float:left;">
									        <p:commandButton id="idBtnListePrintEcranDasboardListeArticleMois"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardArticleMois.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeArticleMois}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton>
									    </span>
    								#{dashBoardFactureAvecEtatController.infosLabelRapportArticlesDataTable}
    						</f:facet>
    					
							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeDocument}"
								sortBy="#{a.codeDocument}">
								<f:facet name="header">
									<h:outputText value="Code" />
								</f:facet>
								<p:commandLink value="#{a.codeArticle}"
									action="#{ouvertureDocumentBean.detailArticle(ouvertureDocumentBean.recupCodeArticle(a.codeArticle))}" 
									update=":form:tabView" oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
								</p:commandLink>
							</p:column>
							
							<p:column width="20%" filterMatchMode="contains" 
								filterBy="#{a.libellecArticle}" sortBy="#{a.libellecArticle}">
								<f:facet name="header">
									<h:outputText value="Libellé article(s)" />
								</f:facet>
								<h:outputText value="#{a.libellecArticle}" />
							</p:column>

							<p:column styleClass="center" width="15%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
								sortBy="#{a.dateDocument}">
								<f:facet name="header">
									<h:outputText value="Fait le" />
								</f:facet>
								<h:outputText value="#{a.dateDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeTiers}"
								sortBy="#{a.codeTiers}">
								<f:facet name="header">
									<h:outputText value="Code Tiers" />
								</f:facet>

										<p:commandLink value="#{a.codeTiers}"
											action="#{ouvertureDocumentBean.detailTiers(ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
											oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
										</p:commandLink>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.nomTiers}"
								sortBy="#{a.nomTiers}">
								<f:facet name="header">
									<h:outputText value="Tiers" />
								</f:facet>
								<h:outputText value="#{a.nomTiers}">
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="15%"
								filterMatchMode="contains" filterBy="#{a.mtHtLDocument}"
								sortBy="#{a.mtHtLDocument}">
								<f:facet name="header">
									<h:outputText value="HT" />
								</f:facet>
								<h:outputText value="#{a.mtHtLDocument}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="15%"
								filterMatchMode="contains" filterBy="#{a.mtTtcLDocument}"
								sortBy="#{a.mtTtcLDocument}">
								<f:facet name="header">
									<h:outputText value="TTC" />
								</f:facet>
								<h:outputText value="#{a.mtTtcLDocument}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							
						</p:dataTable>
						</h:panelGrid>
						</p:tab>
						
						<!-- DEBUT TABS PAR MOIS COMPARAISONS -->
						<p:tab title="Liste des documents par mois (comparaison)" rendered="#{dashBoardFactureAvecEtatController.comparaison}">
            			<h:panelGrid columns="2" cellpadding="10">
                	
						<br/>
						
						<p:dataTable id="idFactureMoisComp" var="a"
							value="#{dashBoardFactureAvecEtatController.listeDocumentDetailMoisComp}"
							scrollable="true"
							scrollHeight="135"
							liveResize="true"
							styleClass="background-white"
							widgetVar="wvListeFactureMoisComp" resizableColumns="true" 
							paginator="true"
							rows="#{msg.modele_datatable_ligne_par_page_debut}"
							paginatorTemplate="#{msg.modele_datatable_paginator}"
							rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
							emptyMessage="#{msg.message_datatable_vide}"
							currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
							
							selectionMode="single" rowKey="#{a.codeDocument}" reflow="true">
							
							<f:facet name="header">
									<span style="float:left;">
									       <p:commandButton id="idBtnListePrintEcranDasboardListeDocMoisComp"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardDocMois.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeDocMoisComp}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton> 
									    </span>
									    
    								#{dashBoardFactureAvecEtatController.infosLabelRapportMensuelDataTableComp}
    						</f:facet>
    						 
							<p:column width="20%" rendered="true" filterMatchMode="contains"
								filterBy="#{a.codeDocument}" sortBy="#{a.codeDocument}"  >
								<f:facet name="header">
									<h:outputText value="Code" />
								</f:facet>
								<p:commandLink value="#{a.codeDocument}"
									action="#{ouvertureDocumentBean.detailDocument(ouvertureDocumentBean.recupCodeDocument(a.codeDocument,ouvertureDocumentBean.getTypeDocumentFacture()))}" 
									update=":form:tabView" oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
								</p:commandLink>

							</p:column>

							<p:column width="33%" filterMatchMode="contains" 
								filterBy="#{a.libelleDocument}" sortBy="#{a.libelleDocument}">
								<f:facet name="header">
									<h:outputText value="Libellé" />
								</f:facet>
								<h:outputText value="#{a.libelleDocument}" />
							</p:column>

							<p:column styleClass="center" width="17%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
								sortBy="#{a.dateDocument}">
								<f:facet name="header">
									<h:outputText value="Date" />
								</f:facet>
								<h:outputText value="#{a.dateDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeTiers}"
								sortBy="#{a.codeTiers}">
								<f:facet name="header">
									<h:outputText value="Code Tiers" />
								</f:facet>

										<p:commandLink value="#{a.codeTiers}"
											action="#{ouvertureDocumentBean.detailTiers(ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
											oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
										</p:commandLink>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.nomTiers}"
								sortBy="#{a.nomTiers}">
								<f:facet name="header">
									<h:outputText value="Tiers" />
								</f:facet>
								<h:outputText value="#{a.nomTiers}">
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="12%"
								filterMatchMode="contains" filterBy="#{a.netHtCalc}"
								sortBy="#{a.netHtCalc}">
								<f:facet name="header">
									<h:outputText value="HT" />
								</f:facet>
								<h:outputText value="#{a.netHtCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="10%"
								filterMatchMode="contains" filterBy="#{a.netTvaCalc}"
								sortBy="#{a.netTvaCalc}">
								<f:facet name="header">
									<h:outputText value="TVA" />
								</f:facet>
								<h:outputText value="#{a.netTvaCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="12%"
								filterMatchMode="contains" filterBy="#{a.netTtcCalc}"
								sortBy="#{a.netTtcCalc}">
								<f:facet name="header">
									<h:outputText value="TTC" />
								</f:facet>
								<h:outputText value="#{a.netTtcCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="12%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateEchDocument)}"
								sortBy="#{a.dateEchDocument}">
								<f:facet name="header">
									<h:outputText value="Expire le" />
								</f:facet>
								<h:outputText value="#{a.dateEchDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>
							<p:column styleClass="right" width="12%"
								filterMatchMode="contains" filterBy="#{a.resteAReglerComplet}"
								sortBy="#{a.resteAReglerComplet}">
								<f:facet name="header">
									<h:outputText value="Reste à régler" />
								</f:facet>
								<h:outputText value="#{a.resteAReglerComplet}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>
							
						</p:dataTable>
                		
            			</h:panelGrid>
        				</p:tab>
						<p:tab title="Détail des articles par mois (comparaison)" rendered="#{dashBoardFactureAvecEtatController.comparaison}">
						<h:panelGrid columns="2" cellpadding="10">
						
						<p:dataTable id="taFactureArticlesParTiersParMoisComp" var="a"
							value="#{dashBoardFactureAvecEtatController.listeDocumentArticleParTiersParMoisComp}"
							scrollable="true"
							scrollHeight="135"
							liveResize="true"
							styleClass="background-white"
							widgetVar="wvListeFactureMoisArticlesComp" resizableColumns="true" 
							paginator="true"
							rows="#{msg.modele_datatable_ligne_par_page_debut}"
							paginatorTemplate="#{msg.modele_datatable_paginator}"
							rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
							emptyMessage="#{msg.message_datatable_vide}"
							currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
							
							selectionMode="single" rowKey="#{a.codeDocument}" reflow="true">
							
							<f:facet name="header">
									<span style="float:left;">
									       <p:commandButton id="idBtnListePrintEcranDasboardListeArticleMoisComp"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardArticleMois.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeArticleMoisComp}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton> 
									    </span>
    								#{dashBoardFactureAvecEtatController.infosLabelRapportArticlesDataTableComp}
    						</f:facet>
    					
							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeDocument}"
								sortBy="#{a.codeDocument}">
								<f:facet name="header">
									<h:outputText value="Code" />
								</f:facet>
								<p:commandLink value="#{a.codeArticle}"
									action="#{ouvertureDocumentBean.detailArticle(ouvertureDocumentBean.recupCodeArticle(a.codeArticle))}" 
									update=":form:tabView" oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
								</p:commandLink>
							</p:column>
							
							<p:column width="20%" filterMatchMode="contains" 
								filterBy="#{a.libellecArticle}" sortBy="#{a.libellecArticle}">
								<f:facet name="header">
									<h:outputText value="Libellé article(s)" />
								</f:facet>
								<h:outputText value="#{a.libellecArticle}" />
							</p:column>

							<p:column styleClass="center" width="15%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
								sortBy="#{a.dateDocument}">
								<f:facet name="header">
									<h:outputText value="Fait le" />
								</f:facet>
								<h:outputText value="#{a.dateDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeTiers}"
								sortBy="#{a.codeTiers}">
								<f:facet name="header">
									<h:outputText value="Code Tiers" />
								</f:facet>

										<p:commandLink value="#{a.codeTiers}"
											action="#{ouvertureDocumentBean.detailTiers(ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
											oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
										</p:commandLink>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.nomTiers}"
								sortBy="#{a.nomTiers}">
								<f:facet name="header">
									<h:outputText value="Tiers" />
								</f:facet>
								<h:outputText value="#{a.nomTiers}">
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="15%"
								filterMatchMode="contains" filterBy="#{a.mtHtLDocument}"
								sortBy="#{a.mtHtLDocument}">
								<f:facet name="header">
									<h:outputText value="HT" />
								</f:facet>
								<h:outputText value="#{a.mtHtLDocument}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="15%"
								filterMatchMode="contains" filterBy="#{a.mtTtcLDocument}"
								sortBy="#{a.mtTtcLDocument}">
								<f:facet name="header">
									<h:outputText value="TTC" />
								</f:facet>
								<h:outputText value="#{a.mtTtcLDocument}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							
						</p:dataTable>
						</h:panelGrid>
						</p:tab>
						<!-- FIN TABS PAR MOIS COMPARAISONS -->
						
						
	 				</p:tabView>
						
					</div>
					</p:panel>
					</div>	
				
<!-- 					//////////////////////////////////////////////////////////////////////////// -->
<!-- 					Début second graphique document lié a son datatable -->
				
				<div class="ui-g-12 ui-md-12" style="background:#ebebeb;">
				<div class="ui-g-12 ui-md-12">
					
					<p:tabView widgetVar="wvTabViewFactureJour" >
								
						<p:tab title="Détail des factures par jour pour #{dashBoardFactureAvecEtatController.nomMoisDetail}" 
						rendered="#{dashBoardFactureAvecEtatController.afficheDocumentJour}">
						<br/><br/>
						<h:panelGrid columns="2" cellpadding="0" rendered="#{!dashBoardFactureAvecEtatController.comparaison}">
									
							<f:facet name="header">
	        						Graphique journalier des documents pour le mois de #{dashBoardFactureAvecEtatController.nomMoisDetail} pour un montant de #{dashBoardFactureAvecEtatController.montantTotalHtMois} € de type #{dashBoardFactureAvecEtatController.infoEtatDocument}
	    						</f:facet>
							
						</h:panelGrid>
						<h:panelGrid columns="2" cellpadding="0" rendered="#{dashBoardFactureAvecEtatController.comparaison}">
									
							<f:facet name="header">
	        						Graphique journalier des documents pour le mois de #{dashBoardFactureAvecEtatController.nomMoisDetail} et #{dashBoardFactureAvecEtatController.nomMoisDetailComp} de type #{dashBoardFactureAvecEtatController.infoEtatDocument}
	    						</f:facet>
	    						<h:outputLabel value="Montant pour  #{dashBoardFactureAvecEtatController.nomMoisDetail}:" />
	    						<h:outputLabel value="#{dashBoardFactureAvecEtatController.montantTotalHtMois} €" />
	    						<h:outputLabel value="Montant pour #{dashBoardFactureAvecEtatController.nomMoisDetailComp}:" />
	    						<h:outputLabel value="#{dashBoardFactureAvecEtatController.montantTotalHtMoisComp} €" />
							
						</h:panelGrid>
					
						 <p:chart type="bar" model="#{dashBoardFactureAvecEtatController.barChartModelFactureJour}" widgetVar="wvGraphiqueFactureJour" 
								responsive="true" 
								style="height:240px;" rendered="#{!dashBoardFactureAvecEtatController.comparaison}">
								
							<p:ajax event="itemSelect" listener="#{dashBoardFactureAvecEtatController.itemSelectJour}" update="@widgetVar(wvListeFactureJour),@widgetVar(wvPanelFactureJourDataTable)" style="cursor: pointer"/>
							</p:chart> 
							
							
						<p:chart type="line" model="#{dashBoardFactureAvecEtatController.lineChartModelFactureJour}" widgetVar="wvGraphiqueFactureJourComp" 
								responsive="true" 
								style="height:240px;" rendered="#{dashBoardFactureAvecEtatController.comparaison}">
								
							<p:ajax event="itemSelect" listener="#{dashBoardFactureAvecEtatController.itemSelectJourComp}" update="@widgetVar(wvListeFactureJour),@widgetVar(wvPanelFactureJourDataTable)" style="cursor: pointer"/>
						</p:chart> 
							
							
						
						
						</p:tab>
					
					</p:tabView>
					</div>
					
					
						<div class="ui-g-12 ui-md-12">
						
					<p:tabView widgetVar="wvPanelFactureJourDataTable" styleClass="tabview-no-background background-transparent"  >
					
						<p:tab title="Liste des documents par jour" rendered="#{dashBoardFactureAvecEtatController.afficheDocumentJourDataTable}">
						<h:panelGrid columns="2" cellpadding="10">
				
						<p:dataTable id="taFactureJour" var="a"
							value="#{dashBoardFactureAvecEtatController.listeDocumentDetailJour}"
							scrollable="true"
							scrollHeight="150"
							liveResize="true"
							widgetVar="wvListeFactureJour" resizableColumns="true" 
							styleClass="background-white"
							paginator="true"
							rows="#{msg.modele_datatable_ligne_par_page_debut}"
							paginatorTemplate="#{msg.modele_datatable_paginator}"
							rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
							emptyMessage="#{msg.message_datatable_vide}"
							currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
							
							selectionMode="single" rowKey="#{a.codeDocument}" reflow="true">
							
							<f:facet name="header">
							
							<span style="float:left;">
									        <p:commandButton id="idBtnListePrintEcranDasboardListeDocJour"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardDocJour.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeDocJour}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton>
									    </span>
									    
        						#{dashBoardFactureAvecEtatController.infosLabelRapportJournalierDataTable}
    						</f:facet>
    						 
							<p:column width="20%" rendered="true" filterMatchMode="contains"
								filterBy="#{a.codeDocument}" sortBy="#{a.codeDocument}"  >
								<f:facet name="header">
									<h:outputText value="Code" />
								</f:facet>
								<p:commandLink value="#{a.codeDocument}"
									action="#{ouvertureDocumentBean.detailDocument(ouvertureDocumentBean.recupCodeDocument(a.codeDocument,ouvertureDocumentBean.getTypeDocumentFacture()))}" 
									update=":form:tabView" oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
								</p:commandLink>
							</p:column>

							<p:column width="33%" filterMatchMode="contains" 
								filterBy="#{a.libelleDocument}" sortBy="#{a.libelleDocument}">
								<f:facet name="header">
									<h:outputText value="Libellé" />
								</f:facet>
								<h:outputText value="#{a.libelleDocument}" />
							</p:column>

							<p:column styleClass="center" width="17%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
								sortBy="#{a.dateDocument}">
								<f:facet name="header">
									<h:outputText value="Date" />
								</f:facet>
								<h:outputText value="#{a.dateDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeTiers}"
								sortBy="#{a.codeTiers}">
								<f:facet name="header">
									<h:outputText value="Code Tiers" />
								</f:facet>

										<p:commandLink value="#{a.codeTiers}"
											action="#{ouvertureDocumentBean.detailTiers(ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
											oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
										</p:commandLink>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.nomTiers}"
								sortBy="#{a.nomTiers}">
								<f:facet name="header">
									<h:outputText value="Tiers" />
								</f:facet>
								<h:outputText value="#{a.nomTiers}">
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="12%"
								filterMatchMode="contains" filterBy="#{a.netHtCalc}"
								sortBy="#{a.netHtCalc}">
								<f:facet name="header">
									<h:outputText value="HT" />
								</f:facet>
								<h:outputText value="#{a.netHtCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="10%"
								filterMatchMode="contains" filterBy="#{a.netTvaCalc}"
								sortBy="#{a.netTvaCalc}">
								<f:facet name="header">
									<h:outputText value="TVA" />
								</f:facet>
								<h:outputText value="#{a.netTvaCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="12%"
								filterMatchMode="contains" filterBy="#{a.netTtcCalc}"
								sortBy="#{a.netTtcCalc}">
								<f:facet name="header">
									<h:outputText value="TTC" />
								</f:facet>
								<h:outputText value="#{a.netTtcCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="12%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateEchDocument)}"
								sortBy="#{a.dateEchDocument}">
								<f:facet name="header">
									<h:outputText value="Expire le" />
								</f:facet>
								<h:outputText value="#{a.dateEchDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>
							
							<p:column styleClass="right" width="12%"
									filterMatchMode="contains" filterBy="#{a.resteAReglerComplet}"
									sortBy="#{a.resteAReglerComplet}">
									<f:facet name="header">
										<h:outputText value="Reste à régler" />
									</f:facet>
									<h:outputText value="#{a.resteAReglerComplet}">
											<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
									</h:outputText>
							</p:column>	

							
						</p:dataTable>
						</h:panelGrid>
						</p:tab>
						
						<p:tab title="Détail des articles par jour" rendered="#{dashBoardFactureAvecEtatController.afficheDocumentJourDataTable}">
						<h:panelGrid columns="2" cellpadding="10">
						
						<br/>
						
						<p:dataTable id="taFactureArticlesParTiersParJour" var="a"
							value="#{dashBoardFactureAvecEtatController.listeDocumentArticleParTiersParJour}"
							scrollable="true"
							scrollHeight="150"
							liveResize="true"
							styleClass="background-white"
							widgetVar="wvListeFactureJourArticles" resizableColumns="true" 
							paginator="true"
							rows="#{msg.modele_datatable_ligne_par_page_debut}"
							paginatorTemplate="#{msg.modele_datatable_paginator}"
							rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
							emptyMessage="#{msg.message_datatable_vide}"
							currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
							
							selectionMode="single" rowKey="#{a.codeDocument}" reflow="true">
							
							<f:facet name="header">
							
							<span style="float:left;">
									        <p:commandButton id="idBtnListePrintEcranDasboardListeArticleJour"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardArticleJour.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeArticleJour}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton>
									    </span>

    								#{dashBoardFactureAvecEtatController.infosLabelRapportArticlesJourDataTable}
    						</f:facet>
    						
							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeDocument}"
								sortBy="#{a.codeDocument}">
								<f:facet name="header">
									<h:outputText value="Code" />
								</f:facet>
<!-- 								<h:outputText value="#{a.codeDocument}"> -->
<!-- 								</h:outputText> -->
								<p:commandLink value="#{a.codeDocument}"
									action="#{ouvertureDocumentBean.detailDocument(ouvertureDocumentBean.recupCodeDocument(a.codeDocument,ouvertureDocumentBean.getTypeDocumentFacture()))}" 
									update=":form:tabView" oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
								</p:commandLink>
							</p:column>
							
							<p:column width="20%" filterMatchMode="contains" 
								filterBy="#{a.libellecArticle}" sortBy="#{a.libellecArticle}">
								<f:facet name="header">
									<h:outputText value="Libellé article(s)" />
								</f:facet>
								<h:outputText value="#{a.libellecArticle}" />
							</p:column>

							<p:column styleClass="center" width="15%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
								sortBy="#{a.dateDocument}">
								<f:facet name="header">
									<h:outputText value="Fait le" />
								</f:facet>
								<h:outputText value="#{a.dateDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeTiers}"
								sortBy="#{a.codeTiers}">
								<f:facet name="header">
									<h:outputText value="Code Tiers" />
								</f:facet>

<!-- 								<h:outputText value="#{a.codeTiers}"> -->
<!-- 								</h:outputText> -->
										<p:commandLink value="#{a.codeTiers}"
											action="#{ouvertureDocumentBean.detailTiers(ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
											oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
										</p:commandLink>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.nomTiers}"
								sortBy="#{a.nomTiers}">
								<f:facet name="header">
									<h:outputText value="Tiers" />
								</f:facet>
								<h:outputText value="#{a.nomTiers}">
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="15%"
								filterMatchMode="contains" filterBy="#{a.mtHtLDocument}"
								sortBy="#{a.mtHtLDocument}">
								<f:facet name="header">
									<h:outputText value="HT" />
								</f:facet>
								<h:outputText value="#{a.mtHtLDocument}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="15%"
								filterMatchMode="contains" filterBy="#{a.mtTtcLDocument}"
								sortBy="#{a.mtTtcLDocument}">
								<f:facet name="header">
									<h:outputText value="TTC" />
								</f:facet>
								<h:outputText value="#{a.mtTtcLDocument}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>
							
						</p:dataTable>
						</h:panelGrid>
						</p:tab>
						
						
						<!-- DEBUT DES TABS COMPARAISONS -->
						<p:tab title="Liste des documents par jour (comparaison)" rendered="#{dashBoardFactureAvecEtatController.comparaison and dashBoardFactureAvecEtatController.afficheDocumentJourDataTable}">
						<h:panelGrid columns="2" cellpadding="10">
				
						<p:dataTable id="taFactureJourComp" var="a"
							value="#{dashBoardFactureAvecEtatController.listeDocumentDetailJourComp}"
							scrollable="true"
							scrollHeight="150"
							liveResize="true"
							widgetVar="wvListeFactureJourComp" resizableColumns="true" 
							styleClass="background-white"
							paginator="true"
							rows="#{msg.modele_datatable_ligne_par_page_debut}"
							paginatorTemplate="#{msg.modele_datatable_paginator}"
							rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
							emptyMessage="#{msg.message_datatable_vide}"
							currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
							
							selectionMode="single" rowKey="#{a.codeDocument}" reflow="true">
							
							<f:facet name="header">
							
							<span style="float:left;">
									        <p:commandButton id="idBtnListePrintEcranDasboardListeDocJourComp"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardDocJour.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeDocJourComp}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton>
									    </span>
									    
        						#{dashBoardFactureAvecEtatController.infosLabelRapportJournalierDataTableComp}
    						</f:facet>
    						 
							<p:column width="20%" rendered="true" filterMatchMode="contains"
								filterBy="#{a.codeDocument}" sortBy="#{a.codeDocument}"  >
								<f:facet name="header">
									<h:outputText value="Code" />
								</f:facet>
								<p:commandLink value="#{a.codeDocument}"
									action="#{ouvertureDocumentBean.detailDocument(ouvertureDocumentBean.recupCodeDocument(a.codeDocument,ouvertureDocumentBean.getTypeDocumentFacture()))}" 
									update=":form:tabView" oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
								</p:commandLink>
							</p:column>

							<p:column width="33%" filterMatchMode="contains" 
								filterBy="#{a.libelleDocument}" sortBy="#{a.libelleDocument}">
								<f:facet name="header">
									<h:outputText value="Libellé" />
								</f:facet>
								<h:outputText value="#{a.libelleDocument}" />
							</p:column>

							<p:column styleClass="center" width="17%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
								sortBy="#{a.dateDocument}">
								<f:facet name="header">
									<h:outputText value="Date" />
								</f:facet>
								<h:outputText value="#{a.dateDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeTiers}"
								sortBy="#{a.codeTiers}">
								<f:facet name="header">
									<h:outputText value="Code Tiers" />
								</f:facet>

										<p:commandLink value="#{a.codeTiers}"
											action="#{ouvertureDocumentBean.detailTiers(ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
											oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
										</p:commandLink>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.nomTiers}"
								sortBy="#{a.nomTiers}">
								<f:facet name="header">
									<h:outputText value="Tiers" />
								</f:facet>
								<h:outputText value="#{a.nomTiers}">
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="12%"
								filterMatchMode="contains" filterBy="#{a.netHtCalc}"
								sortBy="#{a.netHtCalc}">
								<f:facet name="header">
									<h:outputText value="HT" />
								</f:facet>
								<h:outputText value="#{a.netHtCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="10%"
								filterMatchMode="contains" filterBy="#{a.netTvaCalc}"
								sortBy="#{a.netTvaCalc}">
								<f:facet name="header">
									<h:outputText value="TVA" />
								</f:facet>
								<h:outputText value="#{a.netTvaCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="12%"
								filterMatchMode="contains" filterBy="#{a.netTtcCalc}"
								sortBy="#{a.netTtcCalc}">
								<f:facet name="header">
									<h:outputText value="TTC" />
								</f:facet>
								<h:outputText value="#{a.netTtcCalc}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="12%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateEchDocument)}"
								sortBy="#{a.dateEchDocument}">
								<f:facet name="header">
									<h:outputText value="Expire le" />
								</f:facet>
								<h:outputText value="#{a.dateEchDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>

							
						</p:dataTable>
						</h:panelGrid>
						</p:tab>
						
						<p:tab title="Détail des articles par jour (comparaison)" rendered="#{dashBoardFactureAvecEtatController.comparaison and dashBoardFactureAvecEtatController.afficheDocumentJourDataTable}">
						<h:panelGrid columns="2" cellpadding="10">
						
						<br/>
						
						<p:dataTable id="taFactureArticlesParTiersParJourComp" var="a"
							value="#{dashBoardFactureAvecEtatController.listeDocumentArticleParTiersParJourComp}"
							scrollable="true"
							scrollHeight="150"
							liveResize="true"
							styleClass="background-white"
							widgetVar="wvListeFactureJourArticlesComp" resizableColumns="true" 
							paginator="true"
							rows="#{msg.modele_datatable_ligne_par_page_debut}"
							paginatorTemplate="#{msg.modele_datatable_paginator}"
							rowsPerPageTemplate="#{msg.modele_datatable_lignes_par_page}"
							emptyMessage="#{msg.message_datatable_vide}"
							currentPageReportTemplate="#{msg.modele_datatable_page_courante}"
							
							selectionMode="single" rowKey="#{a.codeDocument}" reflow="true">
							
							<f:facet name="header">
							
							<span style="float:left;">
									       <p:commandButton id="idBtnListePrintEcranDasboardListeArticleJourComp"
							 title="Imprimer la liste" 
			onsuccess="window.open('#{request.contextPath}/output?__report=/reports/documents/facture/ListeDashboardArticleJour.rptdesign&amp;__format=pdf')"
			actionListener="#{dashBoardFactureAvecEtatController.actImprimerListeArticleJourComp}" styleClass="ui-priority-primary boutonPrint" style="color : white;" icon="fa fa-print"
			process="@this" ></p:commandButton>
									    </span>

    								#{dashBoardFactureAvecEtatController.infosLabelRapportArticlesJourDataTableComp}
    						</f:facet>
    						
							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeDocument}"
								sortBy="#{a.codeDocument}">
								<f:facet name="header">
									<h:outputText value="Code" />
								</f:facet>
<!-- 								<h:outputText value="#{a.codeDocument}"> -->
<!-- 								</h:outputText> -->
								<p:commandLink value="#{a.codeDocument}"
									action="#{ouvertureDocumentBean.detailDocument(ouvertureDocumentBean.recupCodeDocument(a.codeDocument,ouvertureDocumentBean.getTypeDocumentFacture()))}" 
									update=":form:tabView" oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
								</p:commandLink>
							</p:column>
							
							<p:column width="20%" filterMatchMode="contains" 
								filterBy="#{a.libellecArticle}" sortBy="#{a.libellecArticle}">
								<f:facet name="header">
									<h:outputText value="Libellé article(s)" />
								</f:facet>
								<h:outputText value="#{a.libellecArticle}" />
							</p:column>

							<p:column styleClass="center" width="15%"
								filterMatchMode="contains" filterBy="#{factureController.customFormatDate(a.dateDocument)}"
								sortBy="#{a.dateDocument}">
								<f:facet name="header">
									<h:outputText value="Fait le" />
								</f:facet>
								<h:outputText value="#{a.dateDocument}">
									<f:convertDateTime pattern="#{msg.date_pattern}"
										timeZone="#{msg.time_zone}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.codeTiers}"
								sortBy="#{a.codeTiers}">
								<f:facet name="header">
									<h:outputText value="Code Tiers" />
								</f:facet>

<!-- 								<h:outputText value="#{a.codeTiers}"> -->
<!-- 								</h:outputText> -->
										<p:commandLink value="#{a.codeTiers}"
											action="#{ouvertureDocumentBean.detailTiers(ouvertureDocumentBean.recupCodetiers(a.codeTiers))}" update=":form:tabView"
											oncomplete="activeTabCenter('#{ouvertureDocumentBean.event.cssLgrTab}');">
										</p:commandLink>
							</p:column>

							<p:column styleClass="center" width="20%"
								filterMatchMode="contains" filterBy="#{a.nomTiers}"
								sortBy="#{a.nomTiers}">
								<f:facet name="header">
									<h:outputText value="Tiers" />
								</f:facet>
								<h:outputText value="#{a.nomTiers}">
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="15%"
								filterMatchMode="contains" filterBy="#{a.mtHtLDocument}"
								sortBy="#{a.mtHtLDocument}">
								<f:facet name="header">
									<h:outputText value="HT" />
								</f:facet>
								<h:outputText value="#{a.mtHtLDocument}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>

							<p:column styleClass="right" width="15%"
								filterMatchMode="contains" filterBy="#{a.mtTtcLDocument}"
								sortBy="#{a.mtTtcLDocument}">
								<f:facet name="header">
									<h:outputText value="TTC" />
								</f:facet>
								<h:outputText value="#{a.mtTtcLDocument}">
										<f:convertNumber type="currency" currencySymbol="#{msg.currency_code}" />
								</h:outputText>
							</p:column>
							
						</p:dataTable>
						</h:panelGrid>
						</p:tab>
						
						
						
						
						
						
						
						
						</p:tabView>
					</div>
					
					</div>


                    <div class="ui-g-12 ui-md-6">
                        <p:panel header="Calendrier" style="height:100%" rendered="false">
                            <p:schedule value="#{dashBoardBean.eventModel}" widgetVar="myschedule" timeZone="GMT+1">
					            <p:ajax event="eventSelect" listener="#{dashBoardBean.onEventSelect}" update="eventDetails" oncomplete="PF('eventDialog').show();" />
                            </p:schedule>
                        </p:panel>
                    </div>
                    <div class="ui-g-12 ui-md-4">

                    </div>
                </div>
            </div>
        </div>
        

    
</ui:composition>