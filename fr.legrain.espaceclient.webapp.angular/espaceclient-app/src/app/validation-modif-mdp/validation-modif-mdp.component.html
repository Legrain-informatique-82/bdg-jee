
<form [formGroup]="modifierMdpForm" (ngSubmit)="onSubmit()" *ngIf="saisie">

<div class="fond">
		<div class="centre">
			<div class="cercle">

				<div class="int">
					<a class="logo" routerLink='/' routerLinkActive="active">
<!--                 <img src="../assets/images/logo-bdg-cloud-2.jpg"/> -->
                
		                <img  [src]='image' style="width: auto; height: auto; margin:auto;" *ngIf="image;else image_defaut">
			             <ng-template #image_defaut>
							<img src="../assets/images/logo-bdg-cloud-2.jpg"/>
			             </ng-template>
		            </a>
					
    <p>{{adresseEmail}}</p>
<!--      <div class="form-group login-input-wrapper"> -->
<!--          <input type="text" formControlName="nom" placeholder="Nom" class="form-control ui-inputtext ui-widget" [ngClass]="{ 'is-invalid': submitted && f.nom.errors }" /> -->
<!--          <div *ngIf="submitted && f.nom.errors" class="invalid-feedback"> -->
<!--              <div *ngIf="f.nom.errors.required">Nom obligatoire</div> -->
<!--          </div> -->
<!--      </div> -->
     
<!--      <div class="form-group login-input-wrapper"> -->
<!--          <input type="text" formControlName="prenom" placeholder="Prénom" class="form-control ui-inputtext ui-widget" [ngClass]="{ 'is-invalid': submitted && f.prenom.errors }" /> -->
<!--          <div *ngIf="submitted && f.prenom.errors" class="invalid-feedback"> -->
<!--              <div *ngIf="f.prenom.errors.required">Prénom obligatoire</div> -->
<!--          </div> -->
<!--      </div> -->
     
<!--      <div class="form-group login-input-wrapper"> -->
<!--          <input type="text" formControlName="email" placeholder="Email" class="form-control ui-inputtext ui-widget" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" /> -->
<!--          <div *ngIf="submitted && f.email.errors" class="invalid-feedback"> -->
<!--              <div *ngIf="f.email.errors.required">Email obligatoire</div> -->
<!--          </div> -->
<!--      </div> -->
     
     <div class="form-group login-input-wrapper">
         <input pPassword type="password"  formControlName="mdp" placeholder="Nouveau mot de passe" class="form-control ui-inputtext ui-widget" 
         [feedback]=false
         promptLabel="Veuillez saisir un mot de passe." weakLabel="Sécurité faible" mediumLabel="Sécurité moyenne" strongLabel="Sécurité forte" 
         [ngClass]="{ 'is-invalid': submitted && f.mdp.errors }" />
         <div *ngIf="submitted && f.mdp.errors" class="invalid-feedback">
             <div *ngIf="f.mdp.errors.required">Mot de passe obligatoire</div>
         </div>
     </div>
     
     <div class="form-group login-input-wrapper">
         <input pPassword type="password"  formControlName="mdpVerif" placeholder="Nouveau mot de passe (Vérification)" class="form-control ui-inputtext ui-widget"
         [feedback]=false
         promptLabel="Veuillez confirmer votre mot de passe." weakLabel="Sécurité faible" mediumLabel="Sécurité moyenne" strongLabel="Sécurité forte" 
          feedback="{{false}}"
          [ngClass]="{ 'is-invalid': submitted && f.mdpVerif.errors }" />
         <div *ngIf="submitted && f.mdpVerif.errors" class="invalid-feedback">
             <div *ngIf="f.mdpVerif.errors.required">Vérification du mot de passe obligatoire</div>
         </div>
     </div>

     <button [disabled]="loading" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only">
         <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
         <span class="ui-button-text ui-c">Modifier mon mot de passe</span>
     </button>
     
<!--     <p-button label="Annuler" (onClick)="actAnnuler($event)"></p-button> -->
<!--      <div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div> -->
     
     </div>
			</div>

			<p-button class="btn-annuler" label="Annuler" (onClick)="actAnnuler($event)"></p-button>
			<div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div>
		</div>
	</div>
	
 </form>
 
 <div class="fond" *ngIf="mdp_modifie">
	<div class="centre">
		<div class="cercle">

			<div class="int">
				<a class="logo" routerLink='/' routerLinkActive="active"> <img
					src="../assets/images/logo-bdg-cloud-2.jpg" />
				</a>

        		<p class="message" style="width: 355px;">Votre mot de passe a été modifié. Vous pouvez vous connecter.</p>
     			 <p-button label="Accueil" (onClick)="actAnnuler($event)"></p-button>
			</div>

		</div>

	</div>
 
  <div class="fond" *ngIf="mdp_non_modifie">   
    <div class="centre">
		<div class="cercle">

			<div class="int">
				<a class="logo" routerLink='/' routerLinkActive="active"> <img
					src="../assets/images/logo-bdg-cloud-2.jpg" />
				</a>
       		<p class="message" style="width: 355px;">Erreur pendant la modification du mot de passe.</p>
         	<p-button label="Accueil" (onClick)="actAnnuler($event)"></p-button>
			</div>

		</div>

	</div>